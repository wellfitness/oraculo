/* ==========================================================================
   Oráculo - Sistema de Gestión Personal Consciente
   Design System: Movimiento Funcional
   ========================================================================== */

/* --------------------------------------------------------------------------
   CSS Variables (Design Tokens)
   -------------------------------------------------------------------------- */
:root {
  /* Colores - Turquesa (primario) */
  --turquesa-50: #ecfeff;
  --turquesa-100: #cdfffb;
  --turquesa-200: #a5f3fc;
  --turquesa-300: #67e8f9;
  --turquesa-400: #18f8f6;
  --turquesa-500: #06b6d4;
  --turquesa-600: #00bec8;
  --turquesa-700: #088b96;

  /* Colores - Rosa (secundario) */
  --rosa-50: #fff1f2;
  --rosa-100: #ffe4ea;
  --rosa-200: #fecdd3;
  --rosa-300: #fda4af;
  --rosa-400: #fb718f;
  --rosa-500: #f43f5e;
  --rosa-600: #e11d48;
  --rosa-700: #be1238;

  /* Colores - Verde (exito) */
  --verde-50: #ecfdf5;
  --verde-100: #d1fae5;
  --verde-200: #a7f3d0;
  --verde-400: #34d399;
  --verde-500: #10b981;
  --verde-600: #059669;

  /* Colores - Tulip Tree (advertencia) */
  --tulip-tree-50: #fef9e8;
  --tulip-tree-200: #fee28a;
  --tulip-tree-300: #fdd147;
  --tulip-tree-500: #eab308;

  /* Colores - Grises */
  --gris-50: #f9fafb;
  --gris-100: #f3f4f6;
  --gris-200: #e5e7eb;
  --gris-300: #d1d5db;
  --gris-400: #9ca3af;
  --gris-500: #6b7280;
  --gris-600: #4b5563;
  --gris-700: #374151;
  --gris-800: #1f2937;
  --gris-900: #111827;

  /* Colores semanticos */
  --color-primary: var(--turquesa-600);
  --color-primary-hover: var(--turquesa-700);
  --color-secondary: var(--rosa-600);
  --color-success: var(--verde-500);
  --color-success-light: var(--verde-50);
  --color-warning: var(--tulip-tree-500);
  --color-danger: var(--rosa-600);

  /* Tipografía */
  --font-family-headings: 'Righteous', cursive;
  --font-family-body: 'ABeeZee', sans-serif;
  --font-size-3xl: 2.25rem;
  --font-size-2xl: 1.875rem;
  --font-size-xl: 1.5rem;
  --font-size-lg: 1.125rem;
  --font-size-base: 1rem;
  --font-size-sm: 0.875rem;
  --font-size-xs: 0.75rem;

  /* Espaciado (8px grid) */
  --space-1: 8px;
  --space-2: 16px;
  --space-3: 24px;
  --space-4: 32px;
  --space-5: 40px;
  --space-6: 48px;
  --space-8: 64px;

  /* Sombras */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);

  /* Bordes */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-full: 9999px;

  /* Transiciones */
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
}

/* --------------------------------------------------------------------------
   Material Symbols
   -------------------------------------------------------------------------- */
.material-symbols-outlined {
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
  vertical-align: middle;
}

/* Filled variant */
.material-symbols-outlined.filled {
  font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
}

/* Icon sizes */
.icon-xs { font-size: 14px; }
.icon-sm { font-size: 18px; }
.icon-md { font-size: 24px; }
.icon-lg { font-size: 32px; }
.icon-xl { font-size: 48px; }

/* Icon colors */
.icon-primary { color: var(--color-primary); }
.icon-secondary { color: var(--color-secondary); }
.icon-success { color: var(--color-success); }
.icon-warning { color: var(--color-warning); }
.icon-danger { color: var(--color-danger); }
.icon-muted { color: var(--gris-400); }

/* --------------------------------------------------------------------------
   Reset & Base
   -------------------------------------------------------------------------- */
*, *::before, *::after {
  box-sizing: border-box;
}

body {
  font-family: var(--font-family-body);
  font-size: var(--font-size-base);
  background-color: var(--gris-100);
  color: var(--gris-900);
  margin: 0;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
}

h1, h2, h3, h4 {
  font-family: var(--font-family-headings);
  margin: 0;
  line-height: 1.2;
}

a {
  color: var(--color-primary);
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* --------------------------------------------------------------------------
   App Layout
   -------------------------------------------------------------------------- */
.app-container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.app-header {
  background: var(--gris-900);
  border-bottom: 1px solid var(--gris-800);
  padding: var(--space-2) var(--space-3);
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: sticky;
  top: 0;
  z-index: 100;
}

.app-logo {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  text-decoration: none;
  color: white;
}

.app-logo .logo-img {
  height: 36px;
  width: auto;
}

.logo-icon {
  font-size: 1.5rem;
  color: var(--turquesa-400);
}

.logo-text {
  font-family: var(--font-family-headings);
  font-size: var(--font-size-xl);
  color: #d4a017;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.app-nav {
  display: flex;
  gap: var(--space-1);
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-md);
  color: var(--gris-300);
  text-decoration: none;
  transition: all var(--transition-fast);
}

.nav-link:hover {
  background: var(--gris-800);
  color: white;
  text-decoration: none;
}

.nav-link.active {
  background: var(--turquesa-600);
  color: white;
}

.nav-icon {
  font-size: 1.2rem;
}

.nav-text {
  font-size: var(--font-size-sm);
}

.app-main {
  flex: 1;
  padding: var(--space-3) var(--space-4);
  max-width: 1200px;
  width: 100%;
  margin: 0 auto;
}

.app-footer {
  text-align: center;
  padding: var(--space-3);
  color: var(--gris-500);
  font-size: var(--font-size-sm);
  border-top: 1px solid var(--gris-200);
  background: white;
}

.footer-small {
  font-size: var(--font-size-xs);
  color: var(--gris-400);
  margin-top: var(--space-1);
}

/* --------------------------------------------------------------------------
   Buttons
   -------------------------------------------------------------------------- */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-2);
  border: none;
  border-radius: var(--radius-md);
  font-family: var(--font-family-body);
  font-size: var(--font-size-sm);
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-fast);
  text-decoration: none;
}

.btn--primary {
  background: var(--color-primary);
  color: white;
}

.btn--primary:hover {
  background: var(--color-primary-hover);
}

.btn--secondary {
  background: var(--gris-100);
  color: var(--gris-700);
  border: 1px solid var(--gris-300);
}

.btn--secondary:hover {
  background: var(--gris-200);
}

.btn--tertiary {
  background: transparent;
  color: var(--gris-600);
}

.btn--tertiary:hover {
  background: var(--gris-100);
}

.btn--danger {
  background: var(--color-danger);
  color: white;
}

.btn--danger:hover {
  background: var(--rosa-700);
}

.btn--danger-subtle {
  background: transparent;
  color: var(--color-danger);
}

.btn--danger-subtle:hover {
  background: var(--rosa-100);
}

.btn--icon {
  padding: var(--space-1);
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 1.2rem;
  border-radius: var(--radius-md);
}

.btn--icon:hover {
  background: var(--gris-100);
}

/* Iconos del header sobre fondo oscuro */
.app-header .btn--icon {
  color: var(--gris-300);
}

.app-header .btn--icon:hover {
  background: var(--gris-800);
  color: white;
}

.btn--large {
  padding: var(--space-2) var(--space-3);
  font-size: var(--font-size-base);
}

.btn--sm {
  padding: var(--space-1) var(--space-2);
  font-size: var(--font-size-sm);
  gap: var(--space-1);
}

/* --------------------------------------------------------------------------
   Forms
   -------------------------------------------------------------------------- */
.input {
  width: 100%;
  padding: var(--space-1) var(--space-2);
  border: 1px solid var(--gris-300);
  border-radius: var(--radius-md);
  font-family: var(--font-family-body);
  font-size: var(--font-size-base);
  transition: border-color var(--transition-fast);
}

.input:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px var(--turquesa-100);
}

.input--small {
  width: auto;
  max-width: 80px;
}

.textarea {
  resize: vertical;
  min-height: 80px;
}

.textarea--large {
  min-height: 200px;
}

.form-group {
  margin-bottom: var(--space-2);
}

.form-group label {
  display: block;
  font-weight: 500;
  margin-bottom: 4px;
  color: var(--gris-700);
}

.form-group small {
  display: block;
  margin-top: 4px;
  color: var(--gris-500);
  font-size: var(--font-size-xs);
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-2);
}

.form-section {
  margin-bottom: var(--space-3);
  padding-bottom: var(--space-3);
  border-bottom: 1px solid var(--gris-200);
}

.form-section:last-of-type {
  border-bottom: none;
}

.form-section h3 {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--space-2);
}

/* --------------------------------------------------------------------------
   Modal
   -------------------------------------------------------------------------- */
.modal {
  border: none;
  border-radius: var(--radius-lg);
  padding: 0;
  max-width: 500px;
  width: 90%;
  box-shadow: var(--shadow-lg);
}

.modal--large {
  max-width: 700px;
}

.modal::backdrop {
  background: rgba(0, 0, 0, 0.5);
}

.modal-content {
  padding: var(--space-3);
}

.modal-header {
  margin-bottom: var(--space-3);
}

.modal-title {
  font-size: var(--font-size-xl);
  color: var(--gris-900);
  margin-bottom: var(--space-1);
}

.modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--space-2);
  margin-top: var(--space-3);
  padding-top: var(--space-2);
  border-top: 1px solid var(--gris-200);
}

/* Modal de Volumen Fijo (Daily Setup) */
.modal--setup {
  max-width: 450px;
  background: linear-gradient(180deg, var(--turquesa-50) 0%, white 30%);
}

.setup-content {
  padding: var(--space-4);
}

.setup-header {
  text-align: center;
  margin-bottom: var(--space-2);
}

.setup-icon {
  font-size: 2.5rem;
  color: var(--color-primary);
  margin-bottom: var(--space-1);
}

.setup-title {
  font-family: var(--font-heading);
  font-size: var(--font-size-2xl);
  color: var(--gris-900);
  margin: 0;
}

.setup-subtitle {
  color: var(--gris-600);
  margin-top: 0;
}

.setup-quote {
  margin: var(--space-1) 0 var(--space-2);
  font-size: var(--font-size-sm);
}

.setup-section {
  margin-bottom: var(--space-3);
}

.setup-label {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-weight: 500;
  color: var(--gris-700);
  margin-bottom: var(--space-2);
}

.setup-options {
  display: grid;
  gap: var(--space-2);
}

.time-options {
  grid-template-columns: repeat(4, 1fr);
}

.energy-options {
  grid-template-columns: repeat(3, 1fr);
}

.setup-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-2);
  border: 2px solid var(--gris-200);
  border-radius: var(--radius-md);
  background: white;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.setup-option:hover {
  border-color: var(--color-primary);
  background: var(--turquesa-50);
}

.setup-option.selected {
  border-color: var(--color-primary);
  background: var(--turquesa-100);
}

.setup-option .material-symbols-outlined {
  font-size: 1.5rem;
  color: var(--gris-500);
}

.setup-option.selected .material-symbols-outlined {
  color: var(--color-primary);
}

.energy-option.selected .material-symbols-outlined {
  color: var(--option-color, var(--color-primary));
}

.option-label {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
}

.setup-option.selected .option-label {
  color: var(--gris-900);
  font-weight: 500;
}

/* Mensaje de ayuda inicial (antes de seleccionar) */
.setup-help {
  margin-top: var(--space-3);
}

.help-card {
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  padding: var(--space-2);
  background: var(--gris-100);
  border-radius: var(--radius-md);
  border-left: 3px solid var(--gris-400);
}

.help-icon {
  color: var(--gris-500);
  flex-shrink: 0;
  font-size: 20px;
}

.help-text {
  margin: 0;
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  line-height: 1.5;
}

/* Resultado calculado (después de seleccionar) */
.setup-result {
  margin-top: var(--space-3);
}

.result-card {
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  padding: var(--space-2);
  background: var(--turquesa-50);
  border-radius: var(--radius-md);
  border-left: 3px solid var(--color-primary);
}

.result-icon {
  color: var(--color-primary);
  flex-shrink: 0;
}

.result-text {
  margin: 0;
  font-size: var(--font-size-sm);
  color: var(--gris-700);
  line-height: 1.5;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Responsive para setup modal */
@media (max-width: 480px) {
  .time-options {
    grid-template-columns: repeat(2, 1fr);
  }

  .setup-content {
    padding: var(--space-3);
  }
}

/* ==========================================================================
   Modal Daily Setup - Version 2 Columnas
   ========================================================================== */

/* Container principal con 2 columnas */
.modal--setup-2col .setup-content {
  max-width: 1000px;
  width: 95vw;
  padding: 0;
}

/* Versión página (no modal) */
.setup-2col-page {
  max-width: 1000px;
  margin: 0 auto;
  padding: var(--space-4);
}

/* Solo para el modal, no para la página */
.modal--setup-2col .setup-2col {
  display: flex;
  flex-direction: column;
  max-height: 90vh;
}

/* Body con 2 columnas */
.setup-2col__body {
  display: grid;
  grid-template-columns: 260px 1fr;
  gap: var(--space-3);
  padding: var(--space-3);
  min-height: 0;
  flex: 1;
}

/* Columna izquierda */
.setup-2col__left {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.setup-2col__left .setup-header {
  text-align: center;
  padding-bottom: var(--space-2);
  border-bottom: 1px solid var(--gris-200);
}

.setup-2col__left .setup-icon {
  font-size: 32px;
  margin-bottom: 4px;
}

.setup-2col__left .setup-title {
  font-size: var(--font-size-lg);
  margin-bottom: 2px;
}

.setup-2col__left .setup-subtitle {
  font-size: var(--font-size-sm);
  margin: 0;
}

/* Grupos de selectores */
.setup-2col-page .selector-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.setup-2col-page .selector-group__label {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-size-xs);
  font-weight: 600;
  color: var(--gris-600);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.setup-2col-page .selector-group__label .material-symbols-outlined {
  font-size: 16px;
  color: var(--turquesa-600);
}

/* Chips en fila horizontal */
.setup-2col-page .selector-chips {
  display: flex;
  gap: 4px;
  background: var(--gris-100);
  padding: 4px;
  border-radius: var(--radius-md);
}

.setup-2col-page .selector-chip {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
  padding: 6px 4px;
  min-width: 0;
  border: none;
  border-radius: var(--radius-sm);
  background: transparent;
  cursor: pointer;
  transition: all var(--transition-fast);
  font-family: var(--font-body);
}

.setup-2col-page .selector-chip:hover {
  background: var(--blanco);
}

.setup-2col-page .selector-chip[aria-pressed="true"] {
  background: var(--blanco);
  box-shadow: var(--shadow-sm);
}

.setup-2col-page .selector-chip__icon {
  font-size: 18px;
  color: var(--gris-400);
  transition: color var(--transition-fast);
}

.setup-2col-page .selector-chip[aria-pressed="true"] .selector-chip__icon {
  color: var(--turquesa-600);
}

/* Colores especiales para energía */
.setup-2col-page .selector-chip[data-energy="low"][aria-pressed="true"] .selector-chip__icon {
  color: var(--rosa-400);
}

.setup-2col-page .selector-chip[data-energy="high"][aria-pressed="true"] .selector-chip__icon {
  color: var(--turquesa-600);
}

.setup-2col-page .selector-chip__label {
  font-size: 10px;
  color: var(--gris-500);
  font-weight: 500;
}

.setup-2col-page .selector-chip[aria-pressed="true"] .selector-chip__label {
  color: var(--gris-800);
  font-weight: 600;
}

/* Mensaje de ayuda */
.setup-2col-page .setup-help {
  padding: var(--space-2);
  background: var(--gris-50);
  border-radius: var(--radius-md);
  border: 1px dashed var(--gris-300);
}

.setup-2col-page .setup-help__text {
  display: flex;
  align-items: flex-start;
  gap: var(--space-1);
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  line-height: 1.4;
  margin: 0;
}

.setup-2col-page .setup-help__text .material-symbols-outlined {
  font-size: 18px;
  color: var(--gris-400);
  flex-shrink: 0;
  margin-top: 1px;
}

/* Resultado calculado */
.setup-2col-page .setup-result {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2);
  background: var(--tulip-tree-50);
  border-radius: var(--radius-md);
  border-left: 3px solid var(--tulip-tree-500);
  opacity: 1;
}

.setup-2col-page .setup-result__icon {
  font-size: 24px;
  color: var(--tulip-tree-500);
  flex-shrink: 0;
}

.setup-2col-page .setup-result__text {
  font-size: var(--font-size-sm);
  color: var(--gris-700);
  line-height: 1.3;
  margin: 0;
}

.setup-2col-page .setup-result__text strong {
  color: var(--tulip-tree-500);
  font-weight: 600;
}

/* Columna derecha - Lista de tareas */
.setup-2col__right {
  display: flex;
  flex-direction: column;
  background: var(--blanco);
  border-radius: var(--radius-lg);
  border: 1px solid var(--gris-200);
  overflow: hidden;
  min-height: 280px;
}

.setup-2col__right .setup-tasks__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-2) var(--space-3);
  background: var(--gris-50);
  border-bottom: 1px solid var(--gris-200);
  flex-shrink: 0;
}

.setup-2col__right .setup-tasks__title {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-size-sm);
  font-weight: 600;
  color: var(--gris-700);
  margin: 0;
}

.setup-2col__right .setup-tasks__title .material-symbols-outlined {
  font-size: 20px;
  color: var(--turquesa-600);
}

.setup-2col__right .setup-tasks__counter {
  font-size: var(--font-size-sm);
  font-weight: 600;
  color: var(--gris-500);
  background: var(--gris-100);
  padding: 4px 10px;
  border-radius: var(--radius-full);
}

.setup-2col__right .setup-tasks__counter--full {
  background: var(--turquesa-100);
  color: var(--turquesa-700);
}

/* Lista de tareas scrollable */
.setup-2col__right .setup-tasks__list {
  flex: 1;
  overflow-y: auto;
  padding: var(--space-2);
  list-style: none;
  margin: 0;
  min-height: 0;
}

/* Scrollbar personalizada */
.setup-2col__right .setup-tasks__list::-webkit-scrollbar {
  width: 6px;
}

.setup-2col__right .setup-tasks__list::-webkit-scrollbar-track {
  background: var(--gris-100);
  border-radius: 3px;
}

.setup-2col__right .setup-tasks__list::-webkit-scrollbar-thumb {
  background: var(--gris-300);
  border-radius: 3px;
}

/* Task items */
.setup-2col-page .task-item {
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  padding: var(--space-2);
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
  cursor: pointer;
  margin-bottom: 4px;
  animation: fadeIn 0.2s ease backwards;
}

.setup-2col-page .task-item:last-child {
  margin-bottom: 0;
}

.setup-2col-page .task-item:hover {
  background: var(--gris-50);
}

.setup-2col-page .task-item--selected {
  background: var(--turquesa-50);
}

.setup-2col-page .task-item--in-daily {
  background: var(--turquesa-50);
  opacity: 0.7;
}

/* Checkbox custom */
.setup-2col-page .task-item__checkbox {
  position: relative;
  width: 20px;
  height: 20px;
  flex-shrink: 0;
  margin-top: 2px;
}

.setup-2col-page .task-item__checkbox input {
  position: absolute;
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
  margin: 0;
}

.setup-2col-page .task-item__check-visual {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  border: 2px solid var(--gris-300);
  border-radius: var(--radius-sm);
  background: var(--blanco);
  transition: all var(--transition-fast);
}

.setup-2col-page .task-item__check-visual .material-symbols-outlined {
  font-size: 14px;
  color: transparent;
}

.setup-2col-page .task-item__checkbox input:checked + .task-item__check-visual {
  background: var(--turquesa-600);
  border-color: var(--turquesa-600);
}

.setup-2col-page .task-item__checkbox input:checked + .task-item__check-visual .material-symbols-outlined {
  color: var(--blanco);
}

.setup-2col-page .task-item__checkbox input:disabled + .task-item__check-visual {
  opacity: 0.6;
  cursor: not-allowed;
}

.setup-2col-page .task-item__checkbox input:focus-visible + .task-item__check-visual {
  outline: 2px solid var(--turquesa-400);
  outline-offset: 2px;
}

/* Contenido de la tarea */
.setup-2col-page .task-item__content {
  flex: 1;
  min-width: 0;
}

.setup-2col-page .task-item__text {
  font-size: var(--font-size-sm);
  color: var(--gris-800);
  margin: 0 0 4px 0;
  line-height: 1.3;
}

.setup-2col-page .task-item__meta {
  display: flex;
  align-items: center;
  gap: 4px;
  flex-wrap: wrap;
}

.setup-2col-page .task-item__tag {
  font-size: 10px;
  padding: 2px 6px;
  border-radius: var(--radius-sm);
  background: var(--gris-100);
  color: var(--gris-600);
}

.setup-2col-page .task-item__tag--project {
  background: var(--project-color, var(--rosa-100));
  color: var(--gris-800);
}

.setup-2col-page .task-item__tag--in-daily {
  background: var(--turquesa-500);
  color: white;
}

/* Estado vacío */
.setup-2col-page .setup-tasks__empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-4);
  text-align: center;
  color: var(--gris-500);
  height: 100%;
}

.setup-2col-page .setup-tasks__empty .material-symbols-outlined {
  font-size: 48px;
  color: var(--gris-300);
  margin-bottom: var(--space-2);
}

.setup-2col-page .setup-tasks__empty p {
  margin: 0;
  font-size: var(--font-size-sm);
}

.setup-2col-page .setup-tasks__empty .hint {
  color: var(--gris-400);
  margin-top: 4px;
}

/* Footer con botones */
.setup-2col__footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-2) var(--space-3);
  border-top: 1px solid var(--gris-200);
  background: var(--gris-50);
}

.setup-2col__footer .btn--tertiary {
  color: var(--gris-500);
}

.setup-2col__footer .btn--tertiary:hover {
  color: var(--gris-700);
}

.setup-2col__footer .btn--primary {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

/* ==========================================================================
   RESPONSIVE: Colapsar a 1 columna en móvil
   ========================================================================== */
@media (max-width: 640px) {
  .modal--setup-2col .setup-content {
    max-width: 100%;
    width: 100%;
    height: 100vh;
    max-height: 100vh;
    border-radius: 0;
  }

  .setup-2col-page {
    height: 100%;
    max-height: 100vh;
  }

  .setup-2col__body {
    grid-template-columns: 1fr;
    gap: var(--space-2);
    overflow-y: auto;
    padding: var(--space-2);
  }

  .setup-2col__left {
    gap: var(--space-2);
  }

  .setup-2col__left .setup-header {
    padding-bottom: var(--space-1);
  }

  .setup-2col__left .setup-icon {
    font-size: 28px;
  }

  .setup-2col__left .setup-title {
    font-size: var(--font-size-base);
  }

  .setup-2col__right {
    min-height: 200px;
    max-height: 40vh;
  }

  .setup-2col__footer {
    padding: var(--space-2);
    flex-direction: column-reverse;
    gap: var(--space-2);
  }

  .setup-2col__footer .btn--primary {
    width: 100%;
    justify-content: center;
  }

  .setup-2col__footer .btn--tertiary {
    width: 100%;
    text-align: center;
  }
}

/* --------------------------------------------------------------------------
   Page Header
   -------------------------------------------------------------------------- */
.page-header {
  margin-bottom: var(--space-4);
}

.page-title {
  font-size: var(--font-size-2xl);
  color: var(--gris-900);
  margin-bottom: var(--space-1);
}

.page-description {
  color: var(--gris-600);
  max-width: 600px;
}

/* --------------------------------------------------------------------------
   Section
   -------------------------------------------------------------------------- */
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-2);
}

.section-title {
  font-size: var(--font-size-lg);
  color: var(--gris-800);
}

.section-limit {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  background: var(--gris-100);
  padding: 2px 8px;
  border-radius: var(--radius-full);
}

.section-description {
  color: var(--gris-500);
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-2);
}

/* --------------------------------------------------------------------------
   Empty State
   -------------------------------------------------------------------------- */
.empty-state {
  text-align: center;
  padding: var(--space-4);
  color: var(--gris-500);
}

.empty-state--large {
  padding: var(--space-6);
  background: white;
  border-radius: var(--radius-lg);
  border: 2px dashed var(--gris-300);
}

.empty-state h3 {
  color: var(--gris-700);
  margin-bottom: var(--space-2);
}

/* --------------------------------------------------------------------------
   Dashboard
   -------------------------------------------------------------------------- */
.dashboard {
  display: grid;
  gap: var(--space-3);
}

.dashboard__header {
  margin-bottom: var(--space-2);
}

.dashboard__title {
  font-size: var(--font-size-3xl);
  color: var(--color-primary);
}

.dashboard__date {
  color: var(--gris-600);
  text-transform: capitalize;
}

.dashboard__section {
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}

/* Focus List */
.focus-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.focus-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-2);
  border-bottom: 1px solid var(--gris-100);
}

.focus-item:last-child {
  border-bottom: none;
}

.focus-item--completed .focus-text {
  text-decoration: line-through;
  color: var(--gris-400);
}

.focus-label {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex: 1;
  cursor: pointer;
}

.focus-checkbox {
  width: 20px;
  height: 20px;
  accent-color: var(--color-primary);
}

.focus-delete {
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.focus-item:hover .focus-delete {
  opacity: 1;
}

/* Roca Principal styles */
.focus-item--rock {
  background: linear-gradient(135deg, var(--turquesa-50), var(--rosa-50));
  border-left: 3px solid var(--color-primary);
  border-radius: var(--radius-md);
  margin: var(--space-1) 0;
  padding: var(--space-2) var(--space-3);
}

.focus-item--rock .focus-text {
  font-weight: 600;
  color: var(--gris-800);
}

.icon-rock {
  color: var(--color-primary);
  font-size: 1.1rem;
}

.focus-actions {
  display: flex;
  gap: var(--space-1);
  align-items: center;
}

.focus-rock {
  opacity: 0;
  transition: opacity var(--transition-fast);
  color: var(--gris-400);
}

.focus-rock:hover {
  color: var(--color-primary);
}

.focus-rock.active {
  opacity: 1;
  color: var(--color-primary);
}

.focus-item:hover .focus-rock {
  opacity: 1;
}

.add-focus-form {
  display: flex;
  gap: var(--space-1);
  margin-top: var(--space-2);
}

.add-focus-form .input {
  flex: 1;
}

.limit-message {
  color: var(--gris-500);
  font-size: var(--font-size-sm);
  text-align: center;
  padding: var(--space-2);
  background: var(--gris-50);
  border-radius: var(--radius-md);
  margin-top: var(--space-2);
}

/* Habit Card */
.habit-card {
  background: linear-gradient(135deg, var(--turquesa-100) 0%, white 100%);
  border-radius: var(--radius-lg);
  padding: var(--space-3);
  border: 1px solid var(--turquesa-400);
}

.habit-card--completed {
  border-color: var(--color-success);
}

.habit-identity {
  font-style: italic;
  color: var(--gris-600);
  font-size: var(--font-size-sm);
}

.habit-name {
  font-size: var(--font-size-lg);
  font-weight: 500;
  margin: var(--space-1) 0;
}

.habit-trigger {
  color: var(--gris-600);
  font-size: var(--font-size-sm);
}

.habit-card__footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: var(--space-2);
  padding-top: var(--space-2);
  border-top: 1px solid var(--turquesa-400);
}

.habit-streak {
  display: flex;
  align-items: center;
  gap: 4px;
}

.streak-icon {
  font-size: 1.2rem;
}

.streak-count {
  font-weight: 500;
}

.habit-done {
  color: var(--color-success);
  font-weight: 500;
}

/* Events List */
.events-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.event-item {
  display: flex;
  gap: var(--space-2);
  padding: var(--space-1) 0;
}

.event-time {
  font-weight: 500;
  color: var(--gris-600);
  min-width: 50px;
}

/* Quote */
.quote {
  font-style: italic;
  color: var(--gris-600);
  border-left: 3px solid var(--color-primary);
  padding-left: var(--space-2);
  margin: 0;
}

.quote cite {
  display: block;
  margin-top: var(--space-1);
  font-size: var(--font-size-sm);
  font-style: normal;
}

/* Quote variants for Burkeman reflections */
.quote--header {
  background: linear-gradient(135deg, var(--turquesa-50), var(--rosa-50));
  border-left: 4px solid var(--color-primary);
  padding: var(--space-3);
  border-radius: var(--radius-md);
  margin-top: var(--space-3);
}

.quote--header p {
  margin: 0;
  font-size: var(--font-size-sm);
  line-height: 1.6;
  color: var(--gris-700);
}

.quote--header cite {
  color: var(--gris-500);
  font-size: var(--font-size-xs);
}

.quote--inline {
  background: var(--turquesa-50);
  border: none;
  border-radius: var(--radius-md);
  padding: var(--space-3);
  text-align: center;
}

.quote--inline p {
  margin: 0;
  font-size: var(--font-size-sm);
  color: var(--gris-700);
}

.quote--inline cite {
  color: var(--color-primary);
}

.quote--secondary {
  background: transparent;
  border-left: 2px solid var(--gris-300);
  padding: var(--space-2);
  margin-top: var(--space-3);
  opacity: 0.9;
}

.quote--secondary p {
  margin: 0;
  font-size: var(--font-size-sm);
  color: var(--gris-600);
}

.quote--secondary cite {
  font-size: var(--font-size-xs);
  color: var(--gris-400);
}

/* Burkeman reflexion container */
.burkeman-reflexion {
  margin-top: var(--space-4);
  padding-top: var(--space-3);
  border-top: 1px solid var(--gris-200);
}

.link-subtle {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  margin-top: var(--space-2);
  display: inline-block;
}

/* --------------------------------------------------------------------------
   Values Page
   -------------------------------------------------------------------------- */
.values-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: var(--space-3);
}

.value-card {
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  transition: box-shadow var(--transition-normal);
}

.value-card:hover {
  box-shadow: var(--shadow-md);
}

.value-card--add {
  border: 2px dashed var(--gris-300);
  background: transparent;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-1);
  cursor: pointer;
  color: var(--gris-500);
  min-height: 150px;
}

.value-card--add:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

.add-icon {
  font-size: 2rem;
}

.value-card__header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-2);
}

.value-icon {
  font-size: 2rem;
}

.value-name {
  font-size: var(--font-size-lg);
  color: var(--gris-900);
}

.value-description {
  color: var(--gris-600);
  font-size: var(--font-size-sm);
  margin: 0;
}

.value-card__actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--space-1);
  margin-top: var(--space-2);
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.value-card:hover .value-card__actions {
  opacity: 1;
}

.value-examples {
  text-align: left;
  margin-top: var(--space-3);
  padding-left: var(--space-3);
}

.value-examples li {
  margin-bottom: var(--space-1);
  color: var(--gris-600);
}

.values-reflection {
  background: white;
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  margin-top: var(--space-4);
}

.reflection-prompt {
  font-size: var(--font-size-lg);
  color: var(--gris-700);
  border-left: 3px solid var(--color-primary);
  padding-left: var(--space-2);
  margin: var(--space-2) 0 0;
}

/* --------------------------------------------------------------------------
   Kanban Board
   -------------------------------------------------------------------------- */
.kanban-board {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-2);
  overflow-x: auto;
}

.kanban-column {
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--space-2);
  min-width: 220px;
}

.kanban-column__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: var(--space-2);
  border-bottom: 2px solid var(--gris-200);
  margin-bottom: var(--space-2);
}

.kanban-column__title {
  font-size: var(--font-size-base);
  color: var(--gris-700);
}

.kanban-column__count {
  font-size: var(--font-size-xs);
  background: var(--gris-100);
  padding: 2px 8px;
  border-radius: var(--radius-full);
}

.kanban-column__count.count--full {
  background: var(--rosa-100);
  color: var(--rosa-700);
}

.kanban-column__items {
  list-style: none;
  padding: 0;
  margin: 0;
  min-height: 100px;
}

.kanban-column__items.drag-over {
  background: var(--turquesa-100);
  border-radius: var(--radius-md);
}

.kanban-item {
  background: var(--gris-50);
  padding: var(--space-2);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-1);
  cursor: grab;
  transition: all var(--transition-fast);
}

.kanban-item:hover {
  background: var(--gris-100);
}

.kanban-item.dragging {
  opacity: 0.5;
}

.kanban-item--completed {
  opacity: 0.6;
}

.kanban-item--completed .kanban-item__text {
  text-decoration: line-through;
}

.kanban-item__content {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.kanban-item__checkbox {
  display: flex;
  align-items: flex-start;
  gap: var(--space-1);
  cursor: pointer;
}

.kanban-item__checkbox input {
  margin-top: 3px;
}

.kanban-item__text {
  font-size: var(--font-size-sm);
}

.kanban-item__notes {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  margin: 0;
}

.kanban-item__actions {
  display: flex;
  justify-content: flex-end;
  gap: 4px;
  margin-top: var(--space-1);
  opacity: 0;
}

.kanban-item:hover .kanban-item__actions {
  opacity: 1;
}

.kanban-add-btn {
  width: 100%;
  padding: var(--space-1);
  background: transparent;
  border: 1px dashed var(--gris-300);
  border-radius: var(--radius-md);
  color: var(--gris-500);
  cursor: pointer;
  font-size: var(--font-size-sm);
  transition: all var(--transition-fast);
}

.kanban-add-btn:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

.kanban-limit-msg {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  text-align: center;
  padding: var(--space-1);
}

.kanban-tips {
  margin-top: var(--space-3);
  padding: var(--space-2);
  background: var(--tulip-tree-50);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  color: var(--gris-700);
}

/* --------------------------------------------------------------------------
   Habits Page
   -------------------------------------------------------------------------- */
.active-habit-card {
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  box-shadow: var(--shadow-sm);
}

.habit-header {
  margin-bottom: var(--space-3);
}

.habit-formula {
  background: var(--gris-50);
  padding: var(--space-2);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-3);
}

.habit-formula p {
  margin: var(--space-1) 0;
  font-size: var(--font-size-sm);
}

.habit-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.stat {
  text-align: center;
  padding: var(--space-2);
  background: var(--gris-50);
  border-radius: var(--radius-md);
}

.stat-value {
  display: block;
  font-size: var(--font-size-2xl);
  font-weight: bold;
  color: var(--color-primary);
}

.stat-label {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

.habit-calendar h4 {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  margin-bottom: var(--space-2);
}

.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
}

.calendar-day {
  aspect-ratio: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: var(--gris-50);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
  position: relative;
}

.calendar-day.completed {
  background: var(--turquesa-100);
  color: var(--color-primary);
}

.calendar-day.today {
  border: 2px solid var(--color-primary);
}

.calendar-day.future {
  opacity: 0.4;
}

.day-check {
  font-size: 0.6rem;
  color: var(--color-success);
}

.habit-actions {
  margin-top: var(--space-3);
  text-align: center;
}

.done-message {
  color: var(--color-success);
  font-weight: 500;
}

.habit-secondary-actions {
  display: flex;
  justify-content: center;
  gap: var(--space-2);
  margin-top: var(--space-2);
}

.laws-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-2);
  margin-top: var(--space-3);
}

.law-card {
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  text-align: center;
}

.law-number {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: var(--color-primary);
  color: white;
  border-radius: var(--radius-full);
  font-weight: bold;
  margin-bottom: var(--space-1);
}

.law-card h3 {
  font-size: var(--font-size-base);
  margin-bottom: var(--space-1);
}

.law-card p {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  margin: 0;
}

.habits-graduated,
.habits-science {
  margin-top: var(--space-4);
}

.graduated-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.graduated-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2);
  background: white;
  border-radius: var(--radius-md);
  margin-bottom: var(--space-1);
}

.graduated-icon {
  color: var(--color-success);
}

.graduated-name {
  flex: 1;
  font-weight: 500;
}

.graduated-date {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

/* --------------------------------------------------------------------------
   Calendar Page
   -------------------------------------------------------------------------- */
.calendar-navigation {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.week-title {
  flex: 1;
  text-align: center;
  font-size: var(--font-size-lg);
}

.calendar-actions {
  display: flex;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.week-view {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: var(--space-1);
  background: white;
  padding: var(--space-2);
  border-radius: var(--radius-lg);
}

.day-column {
  min-height: 200px;
  background: var(--gris-50);
  border-radius: var(--radius-md);
  padding: var(--space-1);
}

.day-column--today {
  background: var(--turquesa-100);
}

.day-header {
  text-align: center;
  padding: var(--space-1);
  border-bottom: 1px solid var(--gris-200);
  margin-bottom: var(--space-1);
}

.day-name {
  display: block;
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  text-transform: uppercase;
}

.day-number {
  font-weight: bold;
  font-size: var(--font-size-lg);
}

.day-events {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.event-item {
  display: flex;
  align-items: center;
  gap: 4px;
  background: white;
  padding: 4px 8px;
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
  cursor: pointer;
  border-left: 3px solid var(--color-primary);
}

.event-item--recurring {
  border-left-color: var(--color-secondary);
}

.event-item:hover {
  background: var(--gris-100);
}

.event-item__content {
  flex: 1;
  min-width: 0;
}

.event-item__gcal {
  opacity: 0;
  padding: 2px;
  min-width: 24px;
  min-height: 24px;
  background: transparent;
  border: none;
  border-radius: var(--radius-sm);
  cursor: pointer;
  color: var(--gris-500);
  transition: opacity var(--transition-fast), color var(--transition-fast);
}

.event-item:hover .event-item__gcal {
  opacity: 1;
}

.event-item__gcal:hover {
  color: var(--color-primary);
  background: var(--turquesa-100);
}

/* Eventos de sincronía */
.event-item--sincronia {
  background: linear-gradient(135deg, var(--turquesa-50), var(--rosa-50));
  border-left-color: var(--rosa-400);
}

.event-sincronia-icon {
  font-size: 0.9rem;
  color: var(--rosa-500);
  margin-right: 2px;
}

/* Checkbox de sincronía en modales */
.form-group--checkbox {
  padding: var(--space-2);
  background: var(--turquesa-50);
  border-radius: var(--radius-md);
  margin-top: var(--space-2);
}

.checkbox-label {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  cursor: pointer;
  font-weight: 500;
}

.checkbox-label .material-symbols-outlined {
  color: var(--rosa-500);
}

.form-hint {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  margin: var(--space-1) 0 0 var(--space-4);
}

.event-time {
  display: block;
  color: var(--gris-500);
  font-size: 0.65rem;
}

.event-name {
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.days-selector {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.days-selector label {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: var(--space-1);
  background: var(--gris-50);
  border-radius: var(--radius-sm);
  cursor: pointer;
}

/* --------------------------------------------------------------------------
   Journal Page
   -------------------------------------------------------------------------- */
.entry-type-buttons {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: var(--space-2);
}

.entry-type-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-3);
  background: white;
  border: 2px solid var(--gris-200);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.entry-type-btn:hover {
  border-color: var(--color-primary);
  background: var(--turquesa-100);
}

.entry-type-icon {
  font-size: 2rem;
}

.entry-type-name {
  font-size: var(--font-size-sm);
  color: var(--gris-700);
}

.journal-entries {
  margin-top: var(--space-4);
}

.entries-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.entry-card {
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.entry-card:hover {
  box-shadow: var(--shadow-md);
}

.entry-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-1);
}

.entry-type-badge {
  font-size: var(--font-size-xs);
  background: var(--gris-100);
  padding: 2px 8px;
  border-radius: var(--radius-full);
}

.entry-date {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

.entry-preview {
  color: var(--gris-600);
  font-size: var(--font-size-sm);
  margin: 0;
  line-height: 1.6;
}

.prompts-label {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  margin-bottom: var(--space-1);
}

.prompts-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-1);
}

.prompt-item {
  background: var(--turquesa-100);
  padding: 4px 12px;
  border-radius: var(--radius-full);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.prompt-item:hover {
  background: var(--turquesa-400);
  color: white;
}

.prompt-item--inserted {
  background: var(--turquesa-500);
  color: white;
  transform: scale(0.95);
}

/* --------------------------------------------------------------------------
   Journal Editor (Página completa)
   -------------------------------------------------------------------------- */
.journal-editor-page {
  min-height: calc(100vh - 200px);
  display: flex;
  flex-direction: column;
}

.editor-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-3);
  padding-bottom: var(--space-2);
  border-bottom: 1px solid var(--gris-200);
}

.editor-back {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  color: var(--gris-600);
}

.editor-back:hover {
  color: var(--turquesa-600);
}

.editor-meta {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.entry-type-badge--large {
  font-size: var(--font-size-sm);
  padding: var(--space-1) var(--space-2);
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.editor-date {
  color: var(--gris-500);
  font-size: var(--font-size-sm);
}

.editor-layout {
  display: grid;
  grid-template-columns: 320px 1fr;
  gap: var(--space-4);
  flex: 1;
  min-height: 0;
}

.editor-sidebar {
  background: var(--gris-50);
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  height: fit-content;
  max-height: calc(100vh - 250px);
  overflow-y: auto;
  position: sticky;
  top: var(--space-2);
}

.editor-title {
  font-size: var(--font-size-lg);
  margin-bottom: var(--space-2);
  color: var(--gris-800);
}

.herramienta-intro {
  margin-bottom: var(--space-3);
  padding-bottom: var(--space-2);
  border-bottom: 1px solid var(--gris-200);
}

.prompts-section {
  margin-top: var(--space-2);
}

.prompts-hint {
  font-size: var(--font-size-xs);
  color: var(--gris-400);
  font-weight: normal;
}

.editor-main {
  display: flex;
  flex-direction: column;
}

.editor-form {
  display: flex;
  flex-direction: column;
  flex: 1;
  gap: var(--space-3);
}

.editor-textarea {
  flex: 1;
  min-height: 400px;
  width: 100%;
  padding: var(--space-3);
  border: 2px solid var(--gris-200);
  border-radius: var(--radius-lg);
  font-family: var(--font-body);
  font-size: var(--font-size-base);
  line-height: 1.8;
  resize: vertical;
  transition: border-color var(--transition-fast);
}

.editor-textarea:focus {
  outline: none;
  border-color: var(--turquesa-400);
  box-shadow: 0 0 0 3px var(--turquesa-100);
}

.editor-textarea::placeholder {
  color: var(--gris-400);
}

.editor-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: var(--space-2);
  border-top: 1px solid var(--gris-200);
}

.editor-actions-right {
  display: flex;
  gap: var(--space-2);
  margin-left: auto;
}

/* Responsive: Editor en móvil */
@media (max-width: 768px) {
  .editor-layout {
    grid-template-columns: 1fr;
  }

  .editor-sidebar {
    position: static;
    max-height: none;
    order: 2;
  }

  .editor-main {
    order: 1;
  }

  .editor-textarea {
    min-height: 300px;
  }

  .editor-header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }

  .editor-meta {
    width: 100%;
    justify-content: space-between;
  }

  .editor-actions {
    flex-direction: column;
    gap: var(--space-2);
  }

  .editor-actions-right {
    width: 100%;
    justify-content: flex-end;
  }
}

/* Entry cards como links */
a.entry-card {
  display: block;
  text-decoration: none;
  color: inherit;
}

a.entry-card:hover {
  text-decoration: none;
}

/* Entry type buttons como links */
a.entry-type-btn {
  text-decoration: none;
  color: inherit;
}

/* --------------------------------------------------------------------------
   Settings
   -------------------------------------------------------------------------- */
.settings-section {
  margin-bottom: var(--space-3);
  padding-bottom: var(--space-3);
  border-bottom: 1px solid var(--gris-200);
}

.settings-section:last-of-type {
  border-bottom: none;
}

.settings-section h3 {
  font-size: var(--font-size-base);
  margin-bottom: var(--space-1);
}

.settings-section--danger {
  background: var(--rosa-100);
  padding: var(--space-2);
  border-radius: var(--radius-md);
  margin: var(--space-3) 0 0;
}

.settings-actions {
  display: flex;
  gap: var(--space-2);
  margin-top: var(--space-2);
}

.storage-info {
  margin-top: var(--space-2);
  font-size: var(--font-size-sm);
  color: var(--gris-600);
}

.storage-bar {
  height: 8px;
  background: var(--gris-200);
  border-radius: var(--radius-full);
  overflow: hidden;
  margin-top: var(--space-1);
}

.storage-bar__fill {
  height: 100%;
  background: var(--color-primary);
  transition: width var(--transition-normal);
}

.toggle-label {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  cursor: pointer;
}

/* --------------------------------------------------------------------------
   Notifications
   -------------------------------------------------------------------------- */
.notification {
  position: fixed;
  bottom: var(--space-3);
  right: var(--space-3);
  padding: var(--space-2) var(--space-3);
  background: var(--gris-800);
  color: white;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  transform: translateY(100px);
  opacity: 0;
  transition: all var(--transition-normal);
  z-index: 1000;
}

.notification--visible {
  transform: translateY(0);
  opacity: 1;
}

.notification--success {
  background: var(--color-success);
}

.notification--warning {
  background: var(--color-warning);
  color: var(--gris-900);
}

.notification--error {
  background: var(--color-danger);
}

/* --------------------------------------------------------------------------
   Loading State
   -------------------------------------------------------------------------- */
.loading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-6);
  color: var(--gris-500);
}

.error-message {
  text-align: center;
  padding: var(--space-4);
  color: var(--color-danger);
}

/* --------------------------------------------------------------------------
   Responsive
   -------------------------------------------------------------------------- */
@media (max-width: 768px) {
  .app-header {
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .app-nav {
    order: 3;
    width: 100%;
    overflow-x: auto;
    padding-bottom: var(--space-1);
  }

  .nav-text {
    display: none;
  }

  .nav-link {
    padding: var(--space-1);
  }

  .app-main {
    padding: var(--space-2);
  }

  .kanban-board {
    grid-template-columns: 1fr;
  }

  .week-view {
    grid-template-columns: 1fr;
  }

  .day-column {
    min-height: auto;
  }

  .habit-stats {
    grid-template-columns: 1fr;
  }

  .form-row {
    grid-template-columns: 1fr;
  }

  .modal {
    width: 95%;
    max-height: 90vh;
    overflow-y: auto;
  }
}

@media (max-width: 480px) {
  .logo-text {
    display: none;
  }

  .entry-type-buttons {
    grid-template-columns: repeat(2, 1fr);
  }

  .values-grid {
    grid-template-columns: 1fr;
  }

  .laws-grid {
    grid-template-columns: 1fr;
  }
}

/* ==========================================================================
   UI/UX IMPROVEMENTS - Phase 7 Polish
   ========================================================================== */

/* --------------------------------------------------------------------------
   1. Focus States - Accesibilidad (WCAG 2.1 AA)
   -------------------------------------------------------------------------- */
:focus {
  outline: none;
}

:focus-visible {
  outline: 3px solid var(--turquesa-400);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

.btn:focus-visible {
  outline: 3px solid var(--turquesa-400);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(0, 190, 200, 0.2);
}

.input:focus-visible,
.textarea:focus-visible {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 4px rgba(0, 190, 200, 0.15);
}

.nav-link:focus-visible {
  outline: 3px solid var(--turquesa-400);
  outline-offset: 2px;
  background: var(--turquesa-100);
}

.entry-card:focus-visible,
.value-card--add:focus-visible,
.entry-type-btn:focus-visible {
  outline: 3px solid var(--turquesa-400);
  outline-offset: 2px;
}

/* Skip link para saltar al contenido */
.skip-link {
  position: absolute;
  top: -100px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--color-primary);
  color: white;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  z-index: 1000;
  transition: top var(--transition-fast);
  text-decoration: none;
}

.skip-link:focus {
  top: var(--space-2);
}

/* --------------------------------------------------------------------------
   2. Microinteracciones en Checkboxes
   -------------------------------------------------------------------------- */
.focus-checkbox,
.kanban-item__checkbox input[type="checkbox"] {
  appearance: none;
  -webkit-appearance: none;
  width: 22px;
  height: 22px;
  min-width: 22px;
  border: 2px solid var(--gris-300);
  border-radius: var(--radius-sm);
  background: white;
  cursor: pointer;
  position: relative;
  transition: all var(--transition-fast);
}

.focus-checkbox:hover,
.kanban-item__checkbox input[type="checkbox"]:hover {
  border-color: var(--color-primary);
  background: var(--turquesa-100);
}

.focus-checkbox:checked,
.kanban-item__checkbox input[type="checkbox"]:checked {
  background: var(--color-primary);
  border-color: var(--color-primary);
}

.focus-checkbox::after,
.kanban-item__checkbox input[type="checkbox"]::after {
  content: '';
  position: absolute;
  top: 45%;
  left: 50%;
  width: 5px;
  height: 10px;
  border: solid white;
  border-width: 0 2.5px 2.5px 0;
  transform: translate(-50%, -50%) rotate(45deg) scale(0);
  transition: transform 0.15s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.focus-checkbox:checked::after,
.kanban-item__checkbox input[type="checkbox"]:checked::after {
  transform: translate(-50%, -50%) rotate(45deg) scale(1);
}

@keyframes checkbox-pop {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

.focus-checkbox:checked,
.kanban-item__checkbox input[type="checkbox"]:checked {
  animation: checkbox-pop 0.3s ease;
}

/* --------------------------------------------------------------------------
   3. Mejoras de Contraste (WCAG AA)
   -------------------------------------------------------------------------- */
.section-description,
.page-description,
.habit-trigger,
.habit-identity,
.event-time,
.entry-date,
.footer-small,
.section-limit,
.storage-info,
.kanban-limit-msg,
.graduated-date,
.prompts-label,
.empty-state {
  color: var(--gris-600);
}

.input::placeholder {
  color: var(--gris-500);
  opacity: 1;
}

/* --------------------------------------------------------------------------
   4. Transiciones de Vista
   -------------------------------------------------------------------------- */
.app-main {
  animation: fadeIn 0.25s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.loading {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-6);
  color: var(--gris-600);
}

.loading::before {
  content: '';
  width: 24px;
  height: 24px;
  border: 3px solid var(--gris-200);
  border-top-color: var(--color-primary);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.dashboard__section {
  animation: slideUp 0.3s ease-out both;
}

.dashboard__section:nth-child(1) { animation-delay: 0.05s; }
.dashboard__section:nth-child(2) { animation-delay: 0.1s; }
.dashboard__section:nth-child(3) { animation-delay: 0.15s; }
.dashboard__section:nth-child(4) { animation-delay: 0.2s; }

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* --------------------------------------------------------------------------
   5. Touch Targets (44px mínimo - WCAG)
   -------------------------------------------------------------------------- */
.btn--icon {
  min-width: 44px;
  min-height: 44px;
  padding: 10px;
}

.focus-label {
  min-height: 44px;
  padding: var(--space-1) 0;
}

@media (max-width: 768px) {
  .nav-link {
    min-width: 44px;
    min-height: 44px;
    padding: var(--space-1);
    justify-content: center;
  }

  .focus-delete {
    opacity: 1;
    min-width: 44px;
    min-height: 44px;
  }

  .kanban-item {
    padding: var(--space-2);
    min-height: 56px;
  }

  .kanban-item__actions {
    opacity: 1;
  }

  .entry-type-btn {
    min-height: 80px;
    padding: var(--space-2);
  }

  .days-selector label {
    min-height: 44px;
    padding: var(--space-2);
  }
}

/* --------------------------------------------------------------------------
   6. Feedback Drag & Drop
   -------------------------------------------------------------------------- */
.kanban-item.dragging {
  opacity: 0.6;
  transform: rotate(2deg) scale(1.02);
  box-shadow: var(--shadow-lg);
  cursor: grabbing;
}

.kanban-column__items.drag-over {
  background: var(--turquesa-100);
  border: 2px dashed var(--color-primary);
  border-radius: var(--radius-md);
  min-height: 120px;
}

.kanban-column__items.drag-over::before {
  content: 'Soltar aquí';
  display: block;
  text-align: center;
  padding: var(--space-2);
  color: var(--color-primary);
  font-size: var(--font-size-sm);
  font-weight: 500;
}

.kanban-column__items {
  transition: background var(--transition-fast),
              border var(--transition-fast);
  border: 2px solid transparent;
}

.kanban-item:not(.dragging):hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

/* --------------------------------------------------------------------------
   7. Estados Vacíos Mejorados
   -------------------------------------------------------------------------- */
.empty-state--large {
  padding: var(--space-6);
  background: linear-gradient(135deg, white 0%, var(--turquesa-100) 100%);
  border-radius: var(--radius-lg);
  border: 2px dashed var(--gris-300);
  text-align: center;
}

.empty-state__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  height: 80px;
  margin: 0 auto var(--space-3);
  background: linear-gradient(135deg, var(--turquesa-400) 0%, var(--turquesa-600) 100%);
  border-radius: 50%;
  color: white;
  font-size: 40px;
}

.empty-state h3 {
  color: var(--gris-800);
  margin-bottom: var(--space-2);
  font-size: var(--font-size-lg);
}

.empty-state p {
  color: var(--gris-600);
  margin-bottom: var(--space-3);
  max-width: 300px;
  margin-left: auto;
  margin-right: auto;
}

/* --------------------------------------------------------------------------
   8. Hover States Coherentes
   -------------------------------------------------------------------------- */
.value-card,
.entry-card,
.habit-card,
.law-card,
.graduated-item {
  transition: transform var(--transition-fast),
              box-shadow var(--transition-fast);
  will-change: transform;
}

.value-card:hover,
.entry-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);
}

.habit-card:hover {
  box-shadow: 0 6px 12px rgba(0, 190, 200, 0.15);
}

.value-card--add {
  transition: border-color var(--transition-fast),
              color var(--transition-fast),
              background var(--transition-fast);
}

.value-card--add:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
  background: var(--turquesa-100);
}

/* Ocultar icono de valor cuando hay emoji personalizado */
.value-icon:not(:empty) + .value-icon-symbol {
  display: none;
}

/* ==========================================================================
   PROJECTS MODULE - Phase 8
   ========================================================================== */

/* --------------------------------------------------------------------------
   Projects Page Layout
   -------------------------------------------------------------------------- */
.projects-page {
  max-width: 1000px;
}

.projects-actions {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
  flex-wrap: wrap;
}

.projects-count {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  margin: 0;
}

.limit-warning {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-size-sm);
  color: var(--color-warning);
  margin: 0;
  background: var(--tulip-tree-100);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-md);
}

.projects-section {
  margin-bottom: var(--space-4);
}

.projects-section .section-title {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-size-base);
  color: var(--gris-700);
  margin-bottom: var(--space-2);
}

.section-toggle {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  width: 100%;
  padding: var(--space-2);
  background: var(--gris-100);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  transition: background var(--transition-fast);
}

.section-toggle:hover {
  background: var(--gris-200);
}

.toggle-icon {
  margin-left: auto;
  transition: transform var(--transition-fast);
}

/* --------------------------------------------------------------------------
   Project Cards Grid
   -------------------------------------------------------------------------- */
.projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: var(--space-3);
}

.projects-grid--compact {
  gap: var(--space-2);
}

.projects-grid--compact .project-card {
  padding: var(--space-2);
}

/* --------------------------------------------------------------------------
   Project Card
   -------------------------------------------------------------------------- */
.project-card {
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--space-3);
  box-shadow: var(--shadow-sm);
  cursor: pointer;
  transition: transform var(--transition-fast),
              box-shadow var(--transition-fast);
  border-left: 4px solid var(--project-color, var(--gris-300));
}

.project-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.project-card--compact {
  padding: var(--space-2);
}

.project-card__header {
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  margin-bottom: var(--space-2);
}

.project-card__color {
  width: 12px;
  height: 12px;
  border-radius: var(--radius-full);
  flex-shrink: 0;
  margin-top: 4px;
}

.project-card__name {
  flex: 1;
  font-size: var(--font-size-base);
  font-weight: 600;
  color: var(--gris-800);
  margin: 0;
  line-height: 1.3;
}

.project-card__menu {
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.project-card:hover .project-card__menu {
  opacity: 1;
}

.project-card__description {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  margin: 0 0 var(--space-2);
  line-height: 1.5;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.project-card__progress {
  margin-bottom: var(--space-2);
}

.project-card__footer {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.project-card__value,
.project-card__deadline {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  background: var(--gris-100);
  padding: 2px 8px;
  border-radius: var(--radius-full);
}

.deadline--urgent {
  background: var(--rosa-100);
  color: var(--color-danger);
}

/* --------------------------------------------------------------------------
   Progress Bar
   -------------------------------------------------------------------------- */
.progress-bar {
  height: 6px;
  background: var(--gris-200);
  border-radius: var(--radius-full);
  overflow: hidden;
  margin-bottom: 4px;
}

.progress-bar--large {
  height: 10px;
}

.progress-bar__fill {
  height: 100%;
  background: var(--color-primary);
  transition: width var(--transition-normal);
  border-radius: var(--radius-full);
}

.progress-text {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

/* --------------------------------------------------------------------------
   Project Detail Modal
   -------------------------------------------------------------------------- */
.project-detail__header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
  padding-bottom: var(--space-2);
  border-bottom: 1px solid var(--gris-200);
}

.project-detail__color {
  width: 16px;
  height: 16px;
  border-radius: var(--radius-full);
}

.project-detail__name {
  flex: 1;
  font-size: var(--font-size-xl);
  margin: 0;
}

#close-project-detail {
  margin-left: auto;
}

.status-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-size-xs);
  padding: 4px 12px;
  border-radius: var(--radius-full);
  background: var(--gris-100);
}

.status-badge--active {
  background: var(--turquesa-100);
  color: var(--turquesa-700);
}

.status-badge--paused {
  background: var(--tulip-tree-100);
  color: var(--tulip-tree-700);
}

.status-badge--completed {
  background: var(--turquesa-100);
  color: var(--color-success);
}

.status-badge--archived {
  background: var(--gris-100);
  color: var(--gris-600);
}

.project-detail__description {
  font-size: var(--font-size-base);
  color: var(--gris-700);
  margin-bottom: var(--space-3);
  line-height: 1.6;
}

.project-detail__meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.meta-item {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-size-sm);
  color: var(--gris-600);
}

.project-detail__progress {
  background: var(--gris-50);
  padding: var(--space-3);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-3);
}

.progress-info {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: var(--space-2);
}

.progress-percentage {
  font-size: var(--font-size-2xl);
  font-weight: 700;
  color: var(--color-primary);
}

.progress-count {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
}

.project-detail__tasks {
  margin-bottom: var(--space-3);
}

.project-detail__tasks h3 {
  font-size: var(--font-size-base);
  margin-bottom: var(--space-2);
}

.empty-message {
  text-align: center;
  padding: var(--space-3);
  color: var(--gris-600);
  font-size: var(--font-size-sm);
}

.empty-message a {
  color: var(--color-primary);
}

.task-group {
  margin-bottom: var(--space-3);
}

.task-group__title {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  margin-bottom: var(--space-1);
}

.task-group--completed {
  opacity: 0.7;
}

.task-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.task-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2);
  background: white;
  border-radius: var(--radius-md);
  margin-bottom: 4px;
}

.task-item--completed {
  opacity: 0.6;
}

.task-item--completed .task-item__text {
  text-decoration: line-through;
}

.task-item__checkbox {
  width: 18px;
  height: 18px;
  border: 2px solid var(--gris-300);
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
}

.task-item__checkbox--checked {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: white;
}

.task-item__text {
  flex: 1;
  font-size: var(--font-size-sm);
}

.task-item__horizon {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  background: var(--gris-100);
  padding: 2px 8px;
  border-radius: var(--radius-full);
}

.project-detail__actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  padding-top: var(--space-3);
  border-top: 1px solid var(--gris-200);
}

/* --------------------------------------------------------------------------
   Color Picker
   -------------------------------------------------------------------------- */
.color-picker {
  display: flex;
  gap: var(--space-1);
  flex-wrap: wrap;
}

.color-option {
  width: 32px;
  height: 32px;
  border: 3px solid transparent;
  border-radius: var(--radius-full);
  cursor: pointer;
  transition: transform var(--transition-fast),
              border-color var(--transition-fast);
}

.color-option:hover {
  transform: scale(1.1);
}

.color-option.selected {
  border-color: var(--gris-800);
  transform: scale(1.1);
}

/* --------------------------------------------------------------------------
   Kanban Project Integration
   -------------------------------------------------------------------------- */
.page-header__top {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.kanban-filter {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-shrink: 0;
}

.filter-label {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  white-space: nowrap;
}

.input--small {
  padding: var(--space-1) var(--space-2);
  font-size: var(--font-size-sm);
  min-width: 150px;
}

.kanban-item__project {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-size-xs);
  color: var(--gris-600);
  background: var(--gris-100);
  padding: 2px 8px;
  border-radius: var(--radius-full);
  margin-top: var(--space-1);
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.project-dot {
  width: 8px;
  height: 8px;
  border-radius: var(--radius-full);
  flex-shrink: 0;
}

/* --------------------------------------------------------------------------
   Projects Page - Empty State
   -------------------------------------------------------------------------- */
.projects-page .empty-state {
  padding: var(--space-6);
  background: white;
  border-radius: var(--radius-lg);
  text-align: center;
}

.projects-page .empty-icon {
  font-size: 64px;
  color: var(--gris-300);
  margin-bottom: var(--space-2);
}

.projects-page .empty-state h3 {
  margin-bottom: var(--space-2);
}

/* --------------------------------------------------------------------------
   Projects Responsive
   -------------------------------------------------------------------------- */
@media (max-width: 768px) {
  .projects-grid {
    grid-template-columns: 1fr;
  }

  .project-card__menu {
    opacity: 1;
  }

  .page-header__top {
    flex-direction: column;
  }

  .kanban-filter {
    width: 100%;
  }

  .input--small {
    flex: 1;
  }

  .project-detail__actions {
    flex-direction: column;
  }

  .project-detail__actions .btn {
    width: 100%;
    justify-content: center;
  }
}

/* ==========================================================================
   Módulo de Logros (Achievements)
   ========================================================================== */

/* Página de logros */
.achievements-page {
  padding: var(--space-3);
  max-width: 900px;
  margin: 0 auto;
}

/* Selector de período */
.period-selector {
  display: flex;
  gap: var(--space-1);
  margin-bottom: var(--space-3);
  background: var(--gris-100);
  padding: var(--space-1);
  border-radius: var(--radius-lg);
}

.period-btn {
  flex: 1;
  padding: var(--space-1) var(--space-2);
  border: none;
  background: transparent;
  border-radius: var(--radius-md);
  font-family: var(--font-family-body);
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  cursor: pointer;
  transition: all var(--transition-fast);
  min-height: 44px;
}

.period-btn:hover {
  color: var(--gris-800);
  background: var(--gris-50);
}

.period-btn.active {
  background: white;
  color: var(--color-primary);
  box-shadow: var(--shadow-sm);
}

/* Resumen de contadores */
.achievements-summary {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.stat-card {
  background: white;
  padding: var(--space-2);
  border-radius: var(--radius-lg);
  text-align: center;
  box-shadow: var(--shadow-sm);
}

.stat-card .stat-icon {
  font-size: 28px;
  color: var(--color-primary);
  display: block;
  margin-bottom: var(--space-1);
}

.stat-card .stat-value {
  display: block;
  font-size: var(--font-size-2xl);
  font-weight: bold;
  font-family: var(--font-family-headings);
  color: var(--gris-900);
}

.stat-card .stat-label {
  display: block;
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  margin-top: var(--space-1);
}

/* Secciones de logros */
.achievements-recap,
.achievements-progress,
.achievements-heatmap,
.achievements-graduated {
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-3);
  box-shadow: var(--shadow-sm);
}

.achievements-recap h2,
.achievements-progress h2,
.achievements-heatmap h2,
.achievements-graduated h2 {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  margin-bottom: var(--space-2);
  font-size: var(--font-size-lg);
  color: var(--gris-800);
}

/* Tarjeta de recapitulación */
.recap-card {
  background: var(--gris-50);
  padding: var(--space-2);
  border-radius: var(--radius-md);
  line-height: 1.6;
}

.recap-card p {
  margin: 0 0 var(--space-1) 0;
}

.recap-card strong {
  color: var(--color-primary);
}

.recap-highlight {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  margin-top: var(--space-2);
  padding-top: var(--space-2);
  border-top: 1px solid var(--gris-200);
}

.recap-empty {
  color: var(--gris-500);
  font-style: italic;
}

/* Barras de progreso */
.progress-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.progress-item {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.progress-header {
  display: flex;
  justify-content: space-between;
  font-size: var(--font-size-sm);
}

.progress-label {
  font-weight: 500;
  color: var(--gris-700);
}

.progress-value {
  color: var(--gris-500);
}

.progress-bar {
  height: 8px;
  background: var(--gris-200);
  border-radius: var(--radius-full);
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--turquesa-400), var(--turquesa-600));
  border-radius: var(--radius-full);
  transition: width var(--transition-normal);
}

/* Heatmap de actividad */
.heatmap-container {
  overflow-x: auto;
  padding-bottom: var(--space-1);
}

.heatmap-wrapper {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  min-width: 700px;
}

.heatmap-months {
  display: flex;
  padding-left: 30px;
  gap: 0;
}

.heatmap-months span {
  flex: 1;
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  text-align: center;
}

.heatmap-body {
  display: flex;
  gap: var(--space-1);
}

.heatmap-days {
  display: flex;
  flex-direction: column;
  gap: 2px;
  width: 20px;
}

.heatmap-days span {
  height: 12px;
  font-size: 9px;
  color: var(--gris-500);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding-right: 4px;
}

.heatmap-grid {
  display: flex;
  gap: 2px;
}

.heatmap-week {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.heatmap-day {
  width: 12px;
  height: 12px;
  border-radius: 2px;
  background: var(--gris-200);
  cursor: default;
}

.heatmap-day.level-1 { background: var(--turquesa-100); }
.heatmap-day.level-2 { background: var(--turquesa-400); }
.heatmap-day.level-3 { background: var(--turquesa-600); }
.heatmap-day.level-4 { background: var(--turquesa-700); }
.heatmap-day.today {
  outline: 2px solid var(--gris-600);
  outline-offset: 1px;
}

.heatmap-legend {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--space-1);
  margin-top: var(--space-2);
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

.legend-scale {
  display: flex;
  gap: 2px;
}

.legend-scale span {
  width: 12px;
  height: 12px;
  border-radius: 2px;
}

.legend-scale .level-0 { background: var(--gris-200); }
.legend-scale .level-1 { background: var(--turquesa-100); }
.legend-scale .level-2 { background: var(--turquesa-400); }
.legend-scale .level-3 { background: var(--turquesa-600); }
.legend-scale .level-4 { background: var(--turquesa-700); }

/* Badges de hábitos graduados */
.graduated-badges {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.graduated-badge {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-2);
  background: var(--turquesa-100);
  border-radius: var(--radius-full);
  font-size: var(--font-size-sm);
}

.graduated-badge .badge-icon {
  color: var(--color-success);
  font-size: 18px;
}

.graduated-badge .badge-name {
  font-weight: 500;
  color: var(--gris-800);
}

.graduated-badge .badge-date {
  color: var(--gris-500);
  font-size: var(--font-size-xs);
}

/* Logros de hoy en Dashboard */
.dashboard__achievements {
  background: var(--gris-50);
}

.today-achievements {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  margin-bottom: var(--space-2);
}

.achievement-item {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1);
  background: white;
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
}

.achievement-item .material-symbols-outlined {
  font-size: 20px;
}

/* ==========================================================================
   Módulo de Configuración (Settings)
   ========================================================================== */

.settings-page {
  padding: var(--space-3);
  max-width: 700px;
  margin: 0 auto;
}

.settings-section {
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-3);
  box-shadow: var(--shadow-sm);
}

.settings-section h2 {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  margin-bottom: var(--space-1);
  font-size: var(--font-size-lg);
  color: var(--gris-800);
}

.settings-section h3 {
  font-size: var(--font-size-base);
  color: var(--gris-700);
  margin-bottom: var(--space-1);
}

.settings-section .section-description {
  color: var(--gris-500);
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-2);
}

.settings-section--danger {
  border: 1px solid var(--rosa-100);
  background: var(--gris-50);
}

.settings-section--danger h2 {
  color: var(--color-danger);
}

.settings-actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-1);
}

/* Cuadernos anuales */
.settings-section--notebooks {
  border: 2px solid var(--turquesa-100);
  background: linear-gradient(135deg, white, var(--turquesa-100) 150%);
}

.current-notebook {
  background: white;
  padding: var(--space-2);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-2);
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.notebook-info {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.notebook-icon {
  font-size: 32px;
  color: var(--color-primary);
}

.notebook-since {
  display: block;
  font-size: var(--font-size-sm);
  color: var(--gris-500);
}

.summary-mini {
  display: flex;
  gap: var(--space-2);
  font-size: var(--font-size-sm);
  color: var(--gris-600);
}

.summary-mini span {
  display: flex;
  align-items: center;
  gap: 4px;
}

.notebook-actions {
  margin: var(--space-2) 0;
}

.action-hint {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  margin-top: var(--space-1);
}

.archived-years {
  margin-top: var(--space-3);
  padding-top: var(--space-2);
  border-top: 1px solid var(--gris-200);
}

.archived-years h3 {
  margin-bottom: var(--space-2);
}

.archived-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.archived-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-2);
  background: white;
  border-radius: var(--radius-md);
  border: 1px solid var(--gris-200);
}

.archived-info {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.archived-info .material-symbols-outlined {
  color: var(--gris-400);
}

.archived-date {
  display: block;
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

.archived-summary {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

.import-archived {
  margin-top: var(--space-2);
}

/* Modal de confirmación de archivado */
.archive-steps {
  list-style: none;
  padding: 0;
  margin: var(--space-2) 0;
}

.archive-steps li {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) 0;
}

.archive-warning {
  background: var(--tulip-tree-50);
  padding: var(--space-2);
  border-radius: var(--radius-md);
  border-left: 3px solid var(--tulip-tree-500);
  font-size: var(--font-size-sm);
}

/* Visor de año archivado */
.archived-viewer {
  max-height: 60vh;
  overflow-y: auto;
}

.viewer-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-2);
  padding-bottom: var(--space-2);
  border-bottom: 1px solid var(--gris-200);
}

.viewer-badge {
  background: var(--gris-200);
  color: var(--gris-600);
  padding: 4px 12px;
  border-radius: var(--radius-full);
  font-size: var(--font-size-xs);
  font-weight: 500;
}

.viewer-summary {
  background: var(--gris-50);
  padding: var(--space-2);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-2);
}

.viewer-summary h3 {
  margin-bottom: var(--space-2);
}

.summary-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: var(--space-2);
}

.summary-stat {
  text-align: center;
}

.summary-stat .stat-value {
  display: block;
  font-size: var(--font-size-xl);
  font-weight: bold;
  color: var(--color-primary);
}

.summary-stat .stat-label {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

.viewer-section {
  margin-bottom: var(--space-2);
  padding-bottom: var(--space-2);
  border-bottom: 1px solid var(--gris-200);
}

.viewer-section h3 {
  margin-bottom: var(--space-1);
  font-size: var(--font-size-sm);
  color: var(--gris-600);
}

.viewer-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.viewer-list li {
  padding: var(--space-1) 0;
}

.viewer-subtitle {
  display: block;
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

/* Modal grande */
.modal--large .modal-content {
  max-width: 600px;
}

/* Responsive para logros */
@media (max-width: 768px) {
  .achievements-summary {
    grid-template-columns: repeat(2, 1fr);
  }

  .stat-card .stat-value {
    font-size: var(--font-size-xl);
  }

  .heatmap-wrapper {
    min-width: 100%;
  }

  .heatmap-months {
    display: none;
  }

  .period-selector {
    flex-wrap: wrap;
  }

  .period-btn {
    flex: 1 1 45%;
  }
}

@media (max-width: 480px) {
  .current-notebook {
    flex-direction: column;
    align-items: flex-start;
  }

  .summary-mini {
    flex-wrap: wrap;
  }
}

/* --------------------------------------------------------------------------
   Volumen Fijo - Modal de Setup Diario
   -------------------------------------------------------------------------- */
.modal--setup {
  background: transparent;
}

.modal--setup::backdrop {
  background: rgba(0, 0, 0, 0.7);
}

.setup-content {
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  max-width: 420px;
  width: 90vw;
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.setup-header {
  text-align: center;
  margin-bottom: var(--space-3);
}

.setup-icon {
  font-size: 48px;
  color: var(--turquesa-600);
  margin-bottom: var(--space-1);
}

.setup-title {
  font-family: var(--font-family-headings);
  font-size: var(--font-size-xl);
  color: var(--gris-800);
  margin-bottom: var(--space-1);
}

.setup-subtitle {
  color: var(--gris-500);
  font-size: var(--font-size-sm);
}

.setup-body {
  margin-bottom: var(--space-3);
}

.setup-question {
  margin-bottom: var(--space-3);
}

.setup-question-title {
  font-weight: 600;
  color: var(--gris-700);
  margin-bottom: var(--space-1);
}

.setup-options {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-1);
}

.setup-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: var(--space-2);
  border: 2px solid var(--gris-200);
  border-radius: var(--radius-md);
  background: white;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.setup-option:hover {
  border-color: var(--turquesa-400);
  background: var(--turquesa-100);
}

.setup-option.selected {
  border-color: var(--turquesa-600);
  background: var(--turquesa-100);
}

.setup-option-icon {
  font-size: 24px;
  color: var(--gris-500);
  margin-bottom: 4px;
}

.setup-option.selected .setup-option-icon {
  color: var(--turquesa-600);
}

.setup-option-label {
  font-size: var(--font-size-sm);
  color: var(--gris-700);
}

/* Reglas antiguas de .setup-result eliminadas - usar .setup-2col .setup-result */

.setup-result-text {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--turquesa-700);
  margin-bottom: var(--space-1);
}

.setup-result-limit {
  font-size: var(--font-size-3xl);
  font-weight: 700;
  color: var(--turquesa-600);
}

.setup-reflection {
  font-style: italic;
  color: var(--gris-600);
  font-size: var(--font-size-sm);
  margin-top: var(--space-2);
  padding-top: var(--space-2);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.setup-actions {
  display: flex;
  justify-content: center;
  margin-top: var(--space-3);
}

/* Setup Modal - Pasos de navegación */
.setup-step {
  animation: fadeIn 0.3s ease;
}

/* Paso 2: Modo Menú en el Setup */
.modal--setup .setup-content {
  max-width: 520px;
}

.menu-slots-indicator {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-2) var(--space-3);
  background: linear-gradient(135deg, var(--turquesa-100), var(--turquesa-50));
  border-radius: var(--radius-md);
  margin-bottom: var(--space-3);
  font-size: var(--font-size-sm);
  color: var(--turquesa-700);
}

.menu-slots-indicator .material-symbols-outlined {
  font-size: 20px;
}

.menu-slots-indicator strong {
  color: var(--turquesa-800);
}

/* Contenedor de tareas en el setup */
#menu-tasks-container {
  max-height: 45vh;
  min-height: 200px;
  overflow-y: auto;
  padding-right: var(--space-1);
  margin-bottom: var(--space-2);
}

#menu-tasks-container::-webkit-scrollbar {
  width: 6px;
}

#menu-tasks-container::-webkit-scrollbar-track {
  background: var(--gris-100);
  border-radius: 3px;
}

#menu-tasks-container::-webkit-scrollbar-thumb {
  background: var(--gris-300);
  border-radius: 3px;
}

/* Secciones del menú */
.menu-section {
  margin-bottom: var(--space-3);
}

.menu-section__title {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-size-sm);
  font-weight: 600;
  color: var(--type-color, var(--gris-600));
  padding-bottom: var(--space-1);
  border-bottom: 2px solid var(--type-color, var(--gris-200));
  margin-bottom: var(--space-2);
}

.menu-section__title .material-symbols-outlined {
  font-size: 18px;
}

.menu-section__count {
  margin-left: auto;
  font-weight: 400;
  color: var(--gris-400);
}

.menu-section--current .menu-section__title {
  color: var(--turquesa-600);
  border-color: var(--turquesa-500);
}

.menu-section__title--current {
  color: var(--turquesa-600) !important;
}

/* Items del menú */
.menu-items {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.menu-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2);
  background: white;
  border: 1px solid var(--gris-200);
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
}

.menu-item:hover {
  border-color: var(--turquesa-400);
  background: var(--turquesa-50);
}

.menu-item--in-daily {
  background: var(--turquesa-50);
  border-color: var(--turquesa-300);
  opacity: 0.8;
}

.menu-item__select {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex: 1;
  cursor: pointer;
}

.menu-item__checkbox {
  width: 18px;
  height: 18px;
  accent-color: var(--turquesa-600);
  cursor: pointer;
}

.menu-item__checkbox:disabled {
  cursor: not-allowed;
}

.menu-item__text {
  font-size: var(--font-size-sm);
  color: var(--gris-800);
}

.menu-item__meta {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  flex-shrink: 0;
}

.menu-item__horizon {
  font-size: 10px;
  padding: 2px 6px;
  background: var(--gris-100);
  color: var(--gris-600);
  border-radius: var(--radius-sm);
}

.menu-item__project {
  font-size: 10px;
  padding: 2px 6px;
  background: var(--project-color);
  color: white;
  border-radius: var(--radius-sm);
}

.menu-item__badge {
  display: flex;
  align-items: center;
  gap: 2px;
  font-size: 10px;
  padding: 2px 6px;
  background: var(--turquesa-600);
  color: white;
  border-radius: var(--radius-sm);
}

/* Estado vacío del menú */
.menu-empty {
  text-align: center;
  padding: var(--space-4);
  color: var(--gris-500);
}

.menu-empty .material-symbols-outlined {
  font-size: 48px;
  color: var(--gris-300);
  margin-bottom: var(--space-2);
  display: block;
}

.menu-empty p {
  margin-bottom: var(--space-1);
}

.menu-empty .hint {
  font-size: var(--font-size-sm);
  color: var(--gris-400);
}

/* Ajustes de acciones del modal */
.setup-step .modal-actions {
  margin-top: var(--space-3);
  padding-top: var(--space-3);
  border-top: 1px solid var(--gris-200);
}

/* --------------------------------------------------------------------------
   Temporizador de Calma ("No Hacer Nada")
   -------------------------------------------------------------------------- */
.modal--calm {
  background: transparent;
  border: none;
  padding: 0;
  max-width: 400px;
  width: 90vw;
}

.modal--calm::backdrop {
  background: rgba(17, 24, 39, 0.9);
}

.calm-content {
  background: linear-gradient(180deg, var(--gris-800), var(--gris-900));
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  color: white;
  position: relative;
  text-align: center;
}

.calm-header {
  margin-bottom: var(--space-4);
}

.calm-icon {
  font-size: 56px;
  color: var(--turquesa-400);
  display: block;
  margin-bottom: var(--space-2);
}

.calm-title {
  font-family: var(--font-family-headings);
  font-size: var(--font-size-xl);
  color: white;
  margin: 0;
}

.calm-instruction {
  color: var(--gris-300);
  font-size: var(--font-size-base);
  line-height: 1.6;
  margin-bottom: var(--space-4);
}

.calm-timer {
  margin: var(--space-4) 0;
}

.timer-display {
  font-family: var(--font-family-headings);
  font-size: 4rem;
  color: var(--turquesa-400);
  letter-spacing: 2px;
  text-shadow: 0 0 20px rgba(24, 248, 246, 0.3);
}

.calm-actions {
  display: flex;
  gap: var(--space-2);
  justify-content: center;
  flex-wrap: wrap;
}

.calm-close {
  position: absolute;
  top: var(--space-2);
  right: var(--space-2);
  color: var(--gris-400);
  background: transparent;
}

.calm-close:hover {
  color: white;
  background: transparent;
}

/* Estado completado */
.calm-completed {
  padding: var(--space-3);
}

.calm-done-icon {
  font-size: 64px;
  color: var(--color-success);
  margin-bottom: var(--space-2);
}

.calm-completed h3 {
  font-family: var(--font-family-headings);
  font-size: var(--font-size-lg);
  margin-bottom: var(--space-3);
}

.calm-reflection {
  font-style: italic;
  color: var(--gris-300);
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-3);
  padding: var(--space-2);
  background: rgba(255, 255, 255, 0.05);
  border-radius: var(--radius-md);
}

.calm-journal {
  margin: var(--space-3) 0;
}

.calm-journal-label {
  font-size: var(--font-size-sm);
  color: var(--gris-400);
  margin-bottom: var(--space-1);
}

.calm-journal .textarea {
  background: var(--gris-700);
  border-color: var(--gris-600);
  color: white;
  resize: none;
}

.calm-journal .textarea::placeholder {
  color: var(--gris-400);
}

.calm-journal .textarea:focus {
  border-color: var(--turquesa-400);
  outline: none;
}

.calm-final-actions {
  display: flex;
  gap: var(--space-2);
  justify-content: center;
}

/* Botón trigger en el Dashboard */
.calm-trigger {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  width: 100%;
  padding: var(--space-3);
  background: linear-gradient(135deg, var(--gris-800), var(--gris-900));
  border: none;
  border-radius: var(--radius-md);
  color: white;
  cursor: pointer;
  transition: all var(--transition-normal);
}

.calm-trigger:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.calm-trigger .material-symbols-outlined {
  font-size: 32px;
  color: var(--turquesa-400);
}

.calm-trigger__content {
  text-align: left;
}

.calm-trigger__title {
  display: block;
  font-weight: 600;
  font-size: var(--font-size-base);
  margin-bottom: 2px;
}

.calm-trigger__subtitle {
  display: block;
  font-size: var(--font-size-sm);
  color: var(--gris-400);
}

/* Responsive */
@media (max-width: 480px) {
  .setup-options {
    grid-template-columns: 1fr;
  }

  .timer-display {
    font-size: 3rem;
  }

  .calm-content {
    padding: var(--space-3);
  }
}

/* --------------------------------------------------------------------------
   Modo Menú (Kanban alternativo - Burkeman)
   -------------------------------------------------------------------------- */

/* Toggle de vista */
.kanban-controls {
  display: flex;
  gap: var(--space-3);
  align-items: center;
  flex-wrap: wrap;
}

.view-toggle {
  display: flex;
  gap: 2px;
  background: var(--gris-100);
  padding: 4px;
  border-radius: var(--radius-md);
}

.view-toggle__btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: transparent;
  border: none;
  border-radius: var(--radius-sm);
  color: var(--gris-500);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.view-toggle__btn:hover {
  color: var(--gris-700);
}

.view-toggle__btn.active {
  background: white;
  color: var(--turquesa-600);
  box-shadow: var(--shadow-sm);
}

.view-toggle__label {
  font-size: var(--font-size-sm);
  font-weight: 500;
}

/* Clase utilitaria para ocultar vistas */
.hidden {
  display: none !important;
}

/* Vista Menú */
.menu-view {
  padding: var(--space-3) 0;
}

.menu-container {
  max-width: 800px;
  margin: 0 auto;
}

.menu-intro {
  text-align: center;
  margin-bottom: var(--space-4);
  padding: var(--space-3);
  background: linear-gradient(135deg, var(--turquesa-100), var(--rosa-100));
  border-radius: var(--radius-lg);
}

.menu-intro__text {
  font-size: var(--font-size-lg);
  color: var(--gris-700);
}

.menu-intro__text strong {
  color: var(--turquesa-700);
  font-weight: 700;
}

/* Secciones del menú */
.menu-section {
  margin-bottom: var(--space-4);
}

.menu-section__title {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-family: var(--font-family-headings);
  font-size: var(--font-size-lg);
  color: var(--type-color, var(--gris-700));
  margin-bottom: var(--space-2);
  padding-bottom: var(--space-1);
  border-bottom: 2px solid var(--type-color, var(--gris-200));
}

.menu-section__title .material-symbols-outlined {
  color: var(--type-color, var(--gris-500));
}

.menu-section__count {
  margin-left: auto;
  background: var(--gris-100);
  color: var(--gris-600);
  font-size: var(--font-size-sm);
  font-family: var(--font-family-body);
  padding: 2px 8px;
  border-radius: var(--radius-full);
}

.menu-section__title--completed {
  color: var(--color-success);
}

/* Items del menú */
.menu-items {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.menu-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2);
  background: white;
  border-radius: var(--radius-md);
  border: 1px solid var(--gris-200);
  transition: all var(--transition-fast);
}

.menu-item:hover {
  border-color: var(--turquesa-400);
  box-shadow: var(--shadow-sm);
}

.menu-item--completed {
  opacity: 0.6;
}

.menu-item--completed .menu-item__text {
  text-decoration: line-through;
}

.menu-item__checkbox {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  cursor: pointer;
  flex: 1;
}

.menu-item__checkbox input {
  width: 18px;
  height: 18px;
  cursor: pointer;
}

.menu-item__text {
  font-size: var(--font-size-base);
  color: var(--gris-800);
}

.menu-item__meta {
  display: flex;
  gap: var(--space-1);
  align-items: center;
}

.menu-item__horizon {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  background: var(--gris-100);
  padding: 2px 8px;
  border-radius: var(--radius-sm);
}

.menu-item__project {
  font-size: var(--font-size-xs);
  color: var(--project-color, var(--gris-600));
  padding: 2px 8px;
  border-radius: var(--radius-sm);
  background: rgba(0, 0, 0, 0.05);
}

.menu-item__choose {
  flex-shrink: 0;
}

.menu-item__badge {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-size-xs);
  color: var(--turquesa-600);
  background: var(--turquesa-100);
  padding: 4px 8px;
  border-radius: var(--radius-sm);
}

.menu-items--completed {
  opacity: 0.7;
}

.menu-more {
  text-align: center;
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  font-style: italic;
  margin-top: var(--space-1);
}

/* Botones de tipo de tarea en modal */
.task-type-options {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-1);
}

.task-type-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  border: 2px solid var(--gris-200);
  border-radius: var(--radius-md);
  background: white;
  color: var(--gris-600);
  cursor: pointer;
  transition: all var(--transition-fast);
  font-size: var(--font-size-sm);
}

.task-type-btn:hover {
  border-color: var(--type-color, var(--gris-400));
  background: var(--gris-50);
}

.task-type-btn.selected {
  border-color: var(--type-color, var(--turquesa-600));
  background: var(--gris-50);
  color: var(--type-color, var(--turquesa-600));
}

.task-type-btn .material-symbols-outlined {
  font-size: 18px;
  color: var(--type-color, var(--gris-500));
}

.task-type-btn.selected .material-symbols-outlined {
  color: var(--type-color, var(--turquesa-600));
}

/* Responsive para Modo Menú */
@media (max-width: 768px) {
  .kanban-controls {
    flex-direction: column;
    align-items: stretch;
  }

  .view-toggle {
    justify-content: center;
  }

  .menu-item {
    flex-wrap: wrap;
  }

  .menu-item__meta {
    width: 100%;
    justify-content: flex-start;
    margin-top: var(--space-1);
  }

  .menu-item__choose {
    width: 100%;
    margin-top: var(--space-1);
  }

  .task-type-options {
    gap: 6px;
  }

  .task-type-btn {
    flex: 1 1 45%;
    justify-content: center;
  }
}

/* --------------------------------------------------------------------------
   Listas Duales (Backlog + En Foco)
   -------------------------------------------------------------------------- */

/* Columna Backlog - Lista abierta */
.kanban-column--backlog {
  background: linear-gradient(180deg, var(--gris-50), white);
  border-left: 3px solid var(--gris-400);
}

.kanban-column--backlog .kanban-column__title {
  color: var(--gris-600);
}

.kanban-column--backlog .kanban-column__title .material-symbols-outlined {
  color: var(--gris-500);
}

.kanban-column--backlog .count--unlimited {
  background: var(--gris-200);
  color: var(--gris-600);
}

/* Columna En Foco - Lista cerrada */
.kanban-column--focus {
  background: linear-gradient(180deg, var(--turquesa-100), white);
  border-left: 3px solid var(--turquesa-600);
}

.kanban-column--focus .kanban-column__title {
  color: var(--turquesa-700);
}

.kanban-column--focus .kanban-column__title .material-symbols-outlined {
  color: var(--turquesa-600);
}

/* Hints para columnas especiales */
.kanban-column__hint {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  font-style: italic;
  padding: 0 var(--space-2);
  margin-bottom: var(--space-1);
}

.kanban-column__hint--focus {
  color: var(--turquesa-600);
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

.kanban-column__hint--focus.hint--full {
  color: var(--rosa-500);
}

/* Contador sin límite */
.count--unlimited {
  background: var(--gris-100);
  color: var(--gris-500);
  font-style: italic;
}

.count--unlimited::before {
  content: '∞ ';
  font-weight: bold;
}

/* Ajuste del grid para 5 columnas */
.kanban-board {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: var(--space-2);
  padding: var(--space-2) 0;
  overflow-x: auto;
}

@media (max-width: 1200px) {
  .kanban-board {
    grid-template-columns: repeat(3, minmax(240px, 1fr));
  }
}

@media (max-width: 768px) {
  .kanban-board {
    grid-template-columns: 1fr;
  }
}

/* --------------------------------------------------------------------------
   Kanban: Layout de 3 Secciones Verticales (Nuevo)
   -------------------------------------------------------------------------- */

/* Contenedor principal de secciones */
.kanban-sections {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-3);
}

/* Sección genérica */
.kanban-section {
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--space-3);
  box-shadow: var(--shadow-sm);
}

/* Header de sección */
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-2);
}

.section-title {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--gris-800);
  margin: 0;
}

.section-title .material-symbols-outlined {
  font-size: 1.3rem;
}

.section-meta {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.section-hint {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: 0.85rem;
  color: var(--gris-600);
  margin-bottom: var(--space-2);
}

/* ===== SECCIÓN EN FOCO ===== */
.kanban-section--focus {
  background: linear-gradient(180deg, var(--turquesa-50), white);
  border: 2px solid var(--turquesa-400);
  position: relative;
  overflow: hidden;
}

.kanban-section--focus::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--turquesa-500), var(--turquesa-400));
}

.section-header--focus .section-title {
  color: var(--turquesa-700);
}

.section-header--focus .section-title .material-symbols-outlined {
  color: var(--turquesa-500);
}

.slots-indicator {
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--turquesa-600);
  background: var(--turquesa-100);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-full);
}

.slots-indicator.slots--full {
  color: var(--rosa-600);
  background: var(--rosa-100);
}

.section-hint.hint--full {
  color: var(--rosa-600);
}

/* Roca Principal */
.roca-principal {
  margin-bottom: var(--space-2);
  padding: var(--space-2);
  background: linear-gradient(135deg, var(--tulip-tree-50), var(--turquesa-50));
  border: 2px solid var(--tulip-tree-400);
  border-radius: var(--radius-md);
}

.roca-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--tulip-tree-700);
  background: var(--tulip-tree-200);
  padding: 2px var(--space-1);
  border-radius: var(--radius-sm);
  margin-bottom: var(--space-1);
}

/* Items de En Foco */
.focus-items {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  list-style: none;
  padding: 0;
  margin: 0 0 var(--space-2) 0;
  min-height: 40px;
}

.focus-item {
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  padding: var(--space-2);
  background: white;
  border: 1px solid var(--gris-200);
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
}

.focus-item:hover {
  border-color: var(--turquesa-300);
  box-shadow: var(--shadow-sm);
}

.focus-item--roca {
  border-color: var(--tulip-tree-300);
  background: white;
}

.focus-item__checkbox {
  display: flex;
  align-items: center;
  cursor: pointer;
}

.focus-item__checkbox input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
}

.focus-item__check-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  color: var(--gris-400);
  transition: all var(--transition-fast);
}

.focus-item__checkbox:hover .focus-item__check-icon {
  color: var(--turquesa-500);
}

.focus-item__checkbox input:checked + .focus-item__check-icon {
  color: var(--turquesa-500);
}

.focus-item__check-icon .material-symbols-outlined {
  font-size: 28px;
}

.focus-item__content {
  flex: 1;
  min-width: 0;
}

.focus-item__text {
  font-size: 1rem;
  color: var(--gris-800);
  line-height: 1.4;
}

.focus-item__text.text--completed {
  text-decoration: line-through;
  color: var(--gris-500);
}

.focus-item__notes {
  font-size: 0.85rem;
  color: var(--gris-600);
  margin-top: 4px;
  margin-bottom: 0;
}

.focus-item__project {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 0.75rem;
  color: var(--project-color);
  margin-top: 4px;
}

.focus-item__actions {
  display: flex;
  gap: 4px;
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.focus-item:hover .focus-item__actions {
  opacity: 1;
}

.kanban-add-btn--focus {
  width: 100%;
  justify-content: center;
  background: var(--turquesa-50);
  border: 2px dashed var(--turquesa-300);
  color: var(--turquesa-600);
}

.kanban-add-btn--focus:hover {
  background: var(--turquesa-100);
  border-color: var(--turquesa-400);
}

/* ===== SECCIÓN HORIZONTES ===== */
.kanban-section--horizons {
  background: var(--gris-50);
  border: 1px solid var(--gris-200);
}

.section-header--horizons .section-title .material-symbols-outlined {
  color: var(--gris-600);
}

.horizons-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-3);
}

/* Columna de horizonte */
.horizon-column {
  background: white;
  border-radius: var(--radius-md);
  padding: var(--space-2);
  border: 1px solid var(--gris-200);
}

.horizon-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-2);
  padding-bottom: var(--space-1);
  border-bottom: 1px solid var(--gris-100);
}

.horizon-title {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--gris-700);
  margin: 0;
}

.horizon-title .material-symbols-outlined {
  font-size: 1rem;
  color: var(--gris-500);
}

.horizon-count {
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--gris-600);
  background: var(--gris-100);
  padding: 2px 8px;
  border-radius: var(--radius-full);
}

.horizon-count.count--full {
  color: var(--rosa-600);
  background: var(--rosa-100);
}

.horizon-items {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  list-style: none;
  padding: 0;
  margin: 0;
  min-height: 60px;
}

.horizon-item {
  display: flex;
  align-items: flex-start;
  gap: var(--space-1);
  padding: var(--space-1);
  background: var(--gris-50);
  border-radius: var(--radius-sm);
  transition: all var(--transition-fast);
}

.horizon-item:hover {
  background: white;
  box-shadow: var(--shadow-sm);
}

.horizon-item__content {
  flex: 1;
  min-width: 0;
}

.horizon-item__checkbox {
  display: flex;
  align-items: flex-start;
  gap: 4px;
  cursor: pointer;
}

.horizon-item__checkbox input {
  margin-top: 3px;
  cursor: pointer;
}

.horizon-item__text {
  font-size: 0.85rem;
  color: var(--gris-700);
  line-height: 1.3;
}

.horizon-item__project {
  display: inline-block;
  font-size: 0.7rem;
  font-weight: 500;
  padding: 1px 6px;
  border-radius: var(--radius-sm);
  margin-top: 4px;
}

.horizon-item__actions {
  display: flex;
  gap: 2px;
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.horizon-item:hover .horizon-item__actions {
  opacity: 1;
}

.horizon-item__actions .btn--icon {
  padding: 2px;
}

.horizon-item__actions .icon-sm {
  font-size: 14px;
}

.horizon-add-btn {
  width: 100%;
  padding: var(--space-1);
  margin-top: var(--space-1);
  font-size: 0.8rem;
  background: transparent;
  border: 1px dashed var(--gris-300);
  color: var(--gris-500);
}

.horizon-add-btn:hover {
  background: var(--gris-100);
  border-color: var(--gris-400);
  color: var(--gris-700);
}

/* ===== SECCIÓN BACKLOG ===== */
.kanban-section--backlog {
  background: var(--gris-50);
  border: 1px dashed var(--gris-300);
}

.section-header--backlog {
  cursor: pointer;
}

.section-header--backlog .section-title {
  color: var(--gris-600);
}

.section-header--backlog .section-title .material-symbols-outlined {
  color: var(--gris-500);
}

.backlog-count {
  font-size: 0.8rem;
  font-weight: 500;
  color: var(--gris-500);
  background: var(--gris-200);
  padding: 2px 8px;
  border-radius: var(--radius-full);
  margin-left: var(--space-1);
}

.backlog-expand-btn {
  background: transparent;
  border: none;
  color: var(--gris-500);
  cursor: pointer;
  padding: var(--space-1);
  border-radius: var(--radius-sm);
  transition: all var(--transition-fast);
}

.backlog-expand-btn:hover {
  background: var(--gris-200);
  color: var(--gris-700);
}

/* Contenido colapsable */
.backlog-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease-out, padding 0.3s ease-out;
  padding-top: 0;
}

.backlog-content.expanded {
  max-height: 600px;
  padding-top: var(--space-2);
}

.section-hint--backlog {
  color: var(--gris-500);
  font-style: italic;
}

.backlog-items {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  list-style: none;
  padding: 0;
  margin: 0 0 var(--space-2) 0;
  min-height: 40px;
}

.backlog-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-1) var(--space-2);
  background: white;
  border: 1px solid var(--gris-200);
  border-radius: var(--radius-sm);
  transition: all var(--transition-fast);
}

.backlog-item:hover {
  border-color: var(--gris-300);
  box-shadow: var(--shadow-sm);
}

.backlog-item__content {
  flex: 1;
  display: flex;
  align-items: center;
  gap: var(--space-2);
  min-width: 0;
}

.backlog-item__text {
  font-size: 0.9rem;
  color: var(--gris-700);
}

.backlog-item__project {
  font-size: 0.7rem;
  color: var(--project-color);
  background: color-mix(in srgb, var(--project-color) 10%, white);
  padding: 2px 6px;
  border-radius: var(--radius-sm);
}

.backlog-item__actions {
  display: flex;
  gap: 4px;
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.backlog-item:hover .backlog-item__actions {
  opacity: 1;
}

.backlog-add-btn {
  background: white;
  border: 1px dashed var(--gris-300);
  color: var(--gris-600);
}

.backlog-add-btn:hover {
  background: var(--gris-100);
  border-color: var(--gris-400);
}

/* ===== RESPONSIVE: HORIZONTES ===== */
@media (max-width: 900px) {
  .horizons-grid {
    grid-template-columns: 1fr;
    gap: var(--space-2);
  }

  .horizon-column {
    padding: var(--space-2);
  }
}

@media (max-width: 768px) {
  .kanban-sections {
    padding: var(--space-2);
    gap: var(--space-3);
  }

  .kanban-section {
    padding: var(--space-2);
  }

  .focus-item__check-icon .material-symbols-outlined {
    font-size: 24px;
  }

  .focus-item__check-icon {
    width: 28px;
    height: 28px;
  }

  .focus-item__text {
    font-size: 0.95rem;
  }
}

/* --------------------------------------------------------------------------
   Descanso Atélico (Hábitos)
   -------------------------------------------------------------------------- */
.habits-atelic {
  margin-top: var(--space-4);
  padding: var(--space-3);
  background: linear-gradient(135deg, var(--turquesa-100), white);
  border-radius: var(--radius-lg);
  border: 1px solid var(--turquesa-400);
}

.atelic-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.atelic-header h2 {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  margin-bottom: var(--space-1);
}

.atelic-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.atelic-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2);
  background: white;
  border-radius: var(--radius-md);
  border: 1px solid var(--gris-200);
  transition: all var(--transition-fast);
}

.atelic-item:hover {
  box-shadow: var(--shadow-sm);
}

.atelic-item__icon {
  font-size: 28px;
  color: var(--turquesa-600);
  background: var(--turquesa-100);
  padding: var(--space-1);
  border-radius: var(--radius-md);
}

.atelic-item__content {
  flex: 1;
}

.atelic-item__name {
  display: block;
  font-weight: 500;
  color: var(--gris-800);
}

.atelic-item__date {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

.atelic-item__note {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  font-style: italic;
  margin-top: 4px;
}

.atelic-item__duration {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  background: var(--gris-100);
  padding: 4px 8px;
  border-radius: var(--radius-sm);
}

.atelic-item__delete {
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.atelic-item:hover .atelic-item__delete {
  opacity: 1;
}

.atelic-empty {
  text-align: center;
  padding: var(--space-4);
}

.atelic-empty p {
  color: var(--gris-600);
  line-height: 1.6;
}

/* Modal atélico - selector de iconos */
.atelic-icons {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-1);
}

.atelic-icon-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  border: 2px solid var(--gris-200);
  border-radius: var(--radius-md);
  background: white;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.atelic-icon-btn:hover {
  border-color: var(--turquesa-400);
  background: var(--turquesa-100);
}

.atelic-icon-btn.selected {
  border-color: var(--turquesa-600);
  background: var(--turquesa-100);
}

.atelic-icon-btn .material-symbols-outlined {
  font-size: 24px;
  color: var(--gris-600);
}

.atelic-icon-btn.selected .material-symbols-outlined {
  color: var(--turquesa-600);
}

.modal-subtitle {
  color: var(--gris-500);
  font-size: var(--font-size-sm);
  font-style: italic;
  margin-bottom: var(--space-3);
}

/* Responsive */
@media (max-width: 768px) {
  .atelic-header {
    flex-direction: column;
  }

  .atelic-icon-btn {
    width: 40px;
    height: 40px;
  }
}

/* --------------------------------------------------------------------------
   Logros Espontáneos - FAB y Modal
   -------------------------------------------------------------------------- */

/* Botón flotante de acción (FAB) */
.fab {
  position: fixed;
  bottom: var(--space-4);
  right: var(--space-4);
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-2) var(--space-3);
  background: linear-gradient(135deg, var(--turquesa-500), var(--turquesa-600));
  color: white;
  border: none;
  border-radius: var(--radius-full);
  box-shadow: var(--shadow-lg);
  cursor: pointer;
  transition: all var(--transition-fast);
  z-index: 100;
}

.fab:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(6, 182, 212, 0.4);
}

.fab:active {
  transform: translateY(0);
}

.fab .material-symbols-outlined {
  font-size: 24px;
}

.fab-label {
  font-weight: 600;
  font-size: var(--font-size-sm);
}

.fab--achievement {
  background: linear-gradient(135deg, var(--tulip-tree-500), var(--tulip-tree-600));
}

.fab--achievement:hover {
  box-shadow: 0 8px 25px rgba(228, 176, 53, 0.4);
}

/* Modal de logros espontáneos */
.modal--spontaneous {
  background: transparent;
}

.modal--spontaneous::backdrop {
  background: rgba(0, 0, 0, 0.7);
}

.spontaneous-content {
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  max-width: 440px;
  width: 90vw;
  animation: slideUp 0.3s ease;
}

.spontaneous-intro {
  color: var(--gris-600);
  margin-bottom: var(--space-3);
}

/* Selector de mood */
.mood-selector {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-1);
}

.mood-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: var(--space-2);
  min-width: 72px;
  border: 2px solid var(--gris-200);
  border-radius: var(--radius-md);
  background: white;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.mood-btn:hover {
  border-color: var(--tulip-tree-400);
  background: var(--tulip-tree-50);
}

.mood-btn.active {
  border-color: var(--tulip-tree-500);
  background: var(--tulip-tree-100);
}

.mood-btn .material-symbols-outlined {
  font-size: 28px;
  color: var(--gris-500);
}

.mood-btn.active .material-symbols-outlined {
  color: var(--tulip-tree-600);
}

.mood-label {
  font-size: var(--font-size-xs);
  color: var(--gris-600);
}

.mood-btn.active .mood-label {
  color: var(--tulip-tree-700);
  font-weight: 500;
}

/* Sección de logros espontáneos en página de logros */
.achievements-spontaneous {
  background: linear-gradient(135deg, var(--tulip-tree-50), var(--rosa-50));
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  margin-bottom: var(--space-4);
}

.achievements-spontaneous h2 {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  color: var(--tulip-tree-700);
  margin-bottom: var(--space-3);
}

.spontaneous-list {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.spontaneous-item {
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  padding: var(--space-2);
  background: white;
  border-radius: var(--radius-md);
  border: 1px solid var(--tulip-tree-200);
  transition: all var(--transition-fast);
}

.spontaneous-item:hover {
  box-shadow: var(--shadow-sm);
}

.spontaneous-item__mood {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: var(--tulip-tree-100);
  border-radius: var(--radius-full);
}

.spontaneous-item__mood .material-symbols-outlined {
  font-size: 24px;
  color: var(--tulip-tree-600);
}

.spontaneous-item__content {
  flex: 1;
  min-width: 0;
}

.spontaneous-item__text {
  color: var(--gris-800);
  line-height: 1.4;
  word-break: break-word;
}

.spontaneous-item__meta {
  display: block;
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  margin-top: 4px;
}

.spontaneous-item__delete {
  opacity: 0;
  flex-shrink: 0;
  transition: opacity var(--transition-fast);
}

.spontaneous-item:hover .spontaneous-item__delete {
  opacity: 1;
}

.spontaneous-empty {
  text-align: center;
  padding: var(--space-3);
}

.spontaneous-empty .hint {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  font-style: italic;
  margin-top: var(--space-2);
}

/* Stat card especial para espontáneos */
.stat-card--spontaneous {
  background: linear-gradient(135deg, var(--tulip-tree-50), var(--tulip-tree-100));
  border: 1px solid var(--tulip-tree-200);
}

/* Responsive FAB */
@media (max-width: 768px) {
  .fab {
    bottom: var(--space-3);
    right: var(--space-3);
    padding: var(--space-2);
  }

  .fab-label {
    display: none;
  }

  .mood-selector {
    justify-content: center;
  }

  .mood-btn {
    min-width: 60px;
    padding: var(--space-1);
  }

  .mood-btn .material-symbols-outlined {
    font-size: 24px;
  }
}

/* ==========================================================================
   Módulo de Ayuda (Help)
   ========================================================================== */

.help-page {
  max-width: 900px;
  margin: 0 auto;
  padding: var(--space-3);
}

/* Header de la página */
.help-page .page-header {
  margin-bottom: var(--space-4);
}

.help-page .quote--header {
  background: linear-gradient(135deg, var(--turquesa-50), var(--rosa-50));
  padding: var(--space-3);
  border-radius: var(--radius-md);
  margin-top: var(--space-3);
}

/* Secciones */
.help-section {
  margin-bottom: var(--space-4);
}

.help-section-title {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-size-xl);
  color: var(--gris-800);
  margin-bottom: var(--space-3);
}

/* Sección destacada (flujo diario) */
.help-section--featured {
  margin-bottom: var(--space-4);
}

/* Cards de ayuda */
.help-cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: var(--space-2);
}

.help-card {
  background: white;
  border: 1px solid var(--gris-200);
  border-radius: var(--radius-lg);
  overflow: hidden;
  transition: all var(--transition-fast);
}

.help-card:hover {
  border-color: var(--turquesa-300);
  box-shadow: var(--shadow-sm);
}

.help-card--featured {
  background: linear-gradient(180deg, var(--turquesa-50), white);
  border: 2px solid var(--turquesa-400);
}

/* Header de la card (botón expandible) */
.help-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: var(--space-2) var(--space-3);
  background: transparent;
  border: none;
  cursor: pointer;
  text-align: left;
  transition: background var(--transition-fast);
}

.help-card-header:hover {
  background: var(--gris-50);
}

.help-card--featured .help-card-header:hover {
  background: var(--turquesa-100);
}

.help-card-title {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.help-card-title .material-symbols-outlined {
  font-size: 28px;
  color: var(--turquesa-600);
}

.help-card-title h2,
.help-card-title h3 {
  font-size: var(--font-size-base);
  font-weight: 600;
  color: var(--gris-800);
  margin: 0;
}

.help-card-subtitle {
  display: block;
  font-size: var(--font-size-sm);
  font-weight: 400;
  color: var(--gris-500);
}

.help-card-toggle {
  color: var(--gris-400);
  transition: transform var(--transition-fast);
}

/* Contenido de la card */
.help-card-content {
  padding: 0 var(--space-3) var(--space-3);
  color: var(--gris-700);
  font-size: var(--font-size-sm);
  line-height: 1.6;
}

.help-card-content[hidden] {
  display: none;
}

.help-card-content h4 {
  font-size: var(--font-size-sm);
  font-weight: 600;
  color: var(--gris-800);
  margin: var(--space-2) 0 var(--space-1);
}

.help-card-content ul,
.help-card-content ol {
  padding-left: var(--space-3);
  margin: var(--space-1) 0;
}

.help-card-content li {
  margin-bottom: 4px;
}

.help-card-content p {
  margin: var(--space-1) 0;
}

/* Tip dentro de card */
.help-card-tip {
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  margin-top: var(--space-2);
  padding: var(--space-2);
  background: var(--tulip-tree-50);
  border-radius: var(--radius-md);
  border-left: 3px solid var(--tulip-tree-500);
}

.help-card-tip .material-symbols-outlined {
  color: var(--tulip-tree-600);
  font-size: 20px;
  flex-shrink: 0;
}

.help-card-tip p {
  margin: 0;
  font-style: italic;
  color: var(--tulip-tree-700);
}

/* Relación con otras secciones */
.help-relation {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  margin-top: var(--space-2);
  padding: var(--space-1) var(--space-2);
  background: var(--gris-100);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
  color: var(--gris-600);
}

.help-relation .material-symbols-outlined {
  font-size: 16px;
  color: var(--turquesa-600);
}

/* Botón para navegar a la sección */
.help-nav-link {
  margin-top: var(--space-2);
  width: 100%;
  justify-content: center;
}

/* Flujo diario - Pasos */
.help-steps {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.help-steps li {
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  padding: var(--space-2);
  background: white;
  border-radius: var(--radius-md);
  border: 1px solid var(--gris-200);
}

.step-icon {
  flex-shrink: 0;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--turquesa-100);
  border-radius: var(--radius-full);
  color: var(--turquesa-600);
}

.step-content {
  flex: 1;
}

.step-content strong {
  display: block;
  color: var(--gris-800);
  margin-bottom: 2px;
}

.step-content p {
  margin: 0;
  font-size: var(--font-size-sm);
  color: var(--gris-600);
}

/* Sección de Filosofía */
.help-section--philosophy {
  margin-top: var(--space-4);
}

.help-philosophy {
  background: linear-gradient(135deg, var(--gris-800), var(--gris-900));
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  color: white;
}

.philosophy-header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-2);
}

.philosophy-header .material-symbols-outlined {
  font-size: 32px;
  color: var(--turquesa-400);
}

.philosophy-header h2 {
  font-size: var(--font-size-xl);
  margin: 0;
  color: white;
}

.philosophy-intro {
  color: var(--gris-300);
  margin-bottom: var(--space-3);
  line-height: 1.6;
}

.philosophy-intro strong {
  color: var(--turquesa-400);
}

/* Pilares - Grid 2x2 fijo */
.philosophy-pillars {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.pillar {
  text-align: center;
  padding: var(--space-2);
}

.pillar-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  margin: 0 auto var(--space-2);
  background: rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-full);
}

.pillar-icon .material-symbols-outlined {
  font-size: 28px;
  color: var(--turquesa-400);
}

.pillar h3 {
  font-size: var(--font-size-base);
  margin-bottom: var(--space-1);
  color: white;
}

.pillar p {
  font-size: var(--font-size-sm);
  color: var(--gris-400);
  line-height: 1.5;
  margin: 0;
}

/* Aplicación en Oráculo */
.philosophy-applied {
  background: rgba(255, 255, 255, 0.05);
  border-radius: var(--radius-md);
  padding: var(--space-3);
}

.philosophy-applied h3 {
  font-size: var(--font-size-base);
  margin-bottom: var(--space-2);
  color: var(--turquesa-400);
}

.philosophy-applied ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.philosophy-applied li {
  padding: var(--space-1) 0;
  color: var(--gris-300);
  font-size: var(--font-size-sm);
}

.philosophy-applied li strong {
  color: white;
}

/* Tips rápidos */
.help-tips-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-2);
}

.help-tip-item {
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  padding: var(--space-2);
  background: white;
  border-radius: var(--radius-md);
  border: 1px solid var(--gris-200);
  transition: all var(--transition-fast);
}

.help-tip-item:hover {
  border-color: var(--turquesa-300);
  box-shadow: var(--shadow-sm);
}

.help-tip-item .material-symbols-outlined {
  flex-shrink: 0;
  font-size: 24px;
  color: var(--turquesa-600);
}

.help-tip-item p {
  margin: 0;
  font-size: var(--font-size-sm);
  color: var(--gris-700);
  line-height: 1.4;
}

/* Footer de ayuda */
.help-section--footer {
  margin-top: var(--space-4);
}

.help-footer-message {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3);
  background: var(--gris-50);
  border-radius: var(--radius-lg);
  text-align: center;
}

.help-footer-message .material-symbols-outlined {
  font-size: 24px;
  color: var(--rosa-500);
}

.help-footer-message p {
  margin: 0;
  color: var(--gris-600);
}

.help-footer-message strong {
  color: var(--gris-800);
}

/* Responsive */
@media (max-width: 768px) {
  .help-page {
    padding: var(--space-2);
  }

  .help-cards-grid {
    grid-template-columns: 1fr;
  }

  .help-tips-grid {
    grid-template-columns: 1fr;
  }

  .help-philosophy {
    padding: var(--space-3);
  }
}

@media (max-width: 480px) {
  .philosophy-pillars {
    grid-template-columns: 1fr;
  }

  .help-card-title h2,
  .help-card-title h3 {
    font-size: var(--font-size-sm);
  }

  .help-steps li {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
}

/* ==========================================================================
   DAILY SETUP PAGE (Volumen Fijo - Página completa)
   ========================================================================== */

.daily-setup-page {
  display: flex;
  flex-direction: column;
  height: calc(100vh - var(--header-height, 64px) - var(--footer-height, 48px));
  padding: var(--space-2);
  max-width: 1000px;
  margin: 0 auto;
  overflow: hidden;
}

/* Header compacto */
.setup-page-header {
  text-align: center;
  padding: var(--space-2) 0;
  flex-shrink: 0;
}

.setup-page-header__icon {
  font-size: 36px;
  color: var(--turquesa-600);
  margin-bottom: var(--space-1);
}

.setup-page-header__title {
  font-family: var(--font-family-headings);
  font-size: var(--font-size-xl);
  color: var(--gris-800);
  margin: 0 0 4px 0;
}

.setup-page-header__subtitle {
  color: var(--gris-500);
  font-size: var(--font-size-sm);
  margin: 0;
}

/* Selectores Compactos (Tiempo + Energía en una fila) */
.setup-selectors {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-2);
  padding: var(--space-2);
  background: var(--blanco);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  margin-bottom: var(--space-2);
  flex-shrink: 0;
}

.selector-group {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.selector-group__label {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-size-xs);
  font-weight: 600;
  color: var(--gris-600);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.selector-group__label .material-symbols-outlined {
  font-size: 16px;
  color: var(--turquesa-600);
}

/* Chips de selección */
.selector-chips {
  display: flex;
  gap: 4px;
  background: var(--gris-100);
  padding: 4px;
  border-radius: var(--radius-md);
}

.selector-chip {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
  padding: var(--space-1) 4px;
  border: none;
  border-radius: var(--radius-sm);
  background: transparent;
  cursor: pointer;
  transition: all var(--transition-fast);
  font-family: var(--font-body);
}

.selector-chip:hover {
  background: var(--blanco);
}

.selector-chip[aria-pressed="true"] {
  background: var(--blanco);
  box-shadow: var(--shadow-sm);
}

.selector-chip__icon {
  font-size: 20px;
  color: var(--gris-400);
  transition: color var(--transition-fast);
}

.selector-chip[aria-pressed="true"] .selector-chip__icon {
  color: var(--turquesa-600);
}

/* Colores especiales para energía */
.selector-chip[data-energy="low"][aria-pressed="true"] .selector-chip__icon {
  color: var(--rosa-400);
}

.selector-chip[data-energy="high"][aria-pressed="true"] .selector-chip__icon {
  color: var(--turquesa-600);
}

.selector-chip__label {
  font-size: 10px;
  color: var(--gris-500);
  font-weight: 500;
}

.selector-chip[aria-pressed="true"] .selector-chip__label {
  color: var(--gris-800);
  font-weight: 600;
}

/* Resultado Calculado */
.setup-result {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-1);
  padding: var(--space-2);
  background: linear-gradient(135deg, var(--turquesa-100), var(--rosa-100));
  border-radius: var(--radius-md);
  margin-bottom: var(--space-2);
  flex-shrink: 0;
  opacity: 0;
  transform: translateY(-8px);
  transition: all 0.3s ease;
}

.setup-result.visible {
  opacity: 1;
  transform: translateY(0);
}

.setup-result__icon {
  font-size: 24px;
  color: var(--turquesa-700);
}

.setup-result__text {
  font-size: var(--font-size-sm);
  color: var(--gris-700);
}

.setup-result__limit {
  font-family: var(--font-family-headings);
  font-size: var(--font-size-lg);
  color: var(--turquesa-600);
}

/* Lista de Tareas */
.setup-tasks {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: var(--blanco);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  min-height: 0;
}

.setup-tasks__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-2);
  border-bottom: 1px solid var(--gris-200);
  flex-shrink: 0;
}

.setup-tasks__title {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-size-sm);
  font-weight: 600;
  color: var(--gris-700);
  margin: 0;
}

.setup-tasks__title .material-symbols-outlined {
  font-size: 20px;
  color: var(--turquesa-600);
}

.setup-tasks__counter {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  background: var(--gris-100);
  padding: 2px 8px;
  border-radius: var(--radius-full);
}

.setup-tasks__counter--full {
  background: var(--turquesa-100);
  color: var(--turquesa-700);
}

/* Lista scrollable */
.setup-tasks__list {
  flex: 1;
  overflow-y: auto;
  padding: var(--space-1);
  list-style: none;
  margin: 0;
  min-height: 0;
}

/* Scrollbar personalizada */
.setup-tasks__list::-webkit-scrollbar {
  width: 4px;
}

.setup-tasks__list::-webkit-scrollbar-track {
  background: transparent;
}

.setup-tasks__list::-webkit-scrollbar-thumb {
  background: var(--gris-300);
  border-radius: 2px;
}

/* Task Item */
.task-item {
  display: flex;
  align-items: flex-start;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-md);
  transition: background var(--transition-fast);
  cursor: pointer;
  animation: slideInTask 0.2s ease backwards;
}

.task-item:hover {
  background: var(--gris-50);
}

.task-item--selected {
  background: var(--turquesa-50);
}

@keyframes slideInTask {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.task-item:nth-child(1) { animation-delay: 0.05s; }
.task-item:nth-child(2) { animation-delay: 0.1s; }
.task-item:nth-child(3) { animation-delay: 0.15s; }
.task-item:nth-child(4) { animation-delay: 0.2s; }
.task-item:nth-child(5) { animation-delay: 0.25s; }

/* Checkbox custom */
.task-item__checkbox {
  position: relative;
  width: 20px;
  height: 20px;
  flex-shrink: 0;
  margin-top: 2px;
}

.task-item__checkbox input {
  position: absolute;
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
  margin: 0;
}

.task-item__check-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  border: 2px solid var(--gris-300);
  border-radius: var(--radius-sm);
  background: var(--blanco);
  transition: all var(--transition-fast);
}

.task-item__check-icon .material-symbols-outlined {
  font-size: 14px;
  color: transparent;
}

.task-item__checkbox input:checked + .task-item__check-icon {
  background: var(--turquesa-600);
  border-color: var(--turquesa-600);
}

.task-item__checkbox input:checked + .task-item__check-icon .material-symbols-outlined {
  color: var(--blanco);
}

.task-item__checkbox input:focus-visible + .task-item__check-icon {
  outline: 2px solid var(--turquesa-400);
  outline-offset: 2px;
}

/* Contenido de la tarea */
.task-item__content {
  flex: 1;
  min-width: 0;
}

.task-item__text {
  font-size: var(--font-size-sm);
  color: var(--gris-800);
  margin: 0 0 4px 0;
  line-height: 1.3;
}

.task-item__meta {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  flex-wrap: wrap;
}

.task-item__tag {
  font-size: 10px;
  padding: 2px 6px;
  border-radius: var(--radius-sm);
  background: var(--gris-100);
  color: var(--gris-600);
}

.task-item__tag--project {
  background: var(--project-color, var(--rosa-100));
  color: var(--gris-800);
}

/* Estado vacío */
.setup-tasks__empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-4);
  text-align: center;
  color: var(--gris-500);
}

.setup-tasks__empty .material-symbols-outlined {
  font-size: 48px;
  color: var(--gris-300);
  margin-bottom: var(--space-1);
}

.setup-tasks__empty p {
  margin: 0;
  font-size: var(--font-size-sm);
}

/* Botón de Acción */
.setup-actions {
  padding: var(--space-2) 0;
  flex-shrink: 0;
}

.btn-start {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-1);
  padding: var(--space-2) var(--space-3);
  background: var(--turquesa-600);
  color: var(--blanco);
  border: none;
  border-radius: var(--radius-md);
  font-family: var(--font-body);
  font-size: var(--font-size-base);
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-fast);
  box-shadow: 0 4px 12px rgba(0, 190, 200, 0.3);
}

.btn-start:hover:not(:disabled) {
  background: var(--turquesa-700);
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(0, 190, 200, 0.4);
}

.btn-start:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-start:focus-visible {
  outline: 2px solid var(--turquesa-400);
  outline-offset: 2px;
}

.btn-start .material-symbols-outlined {
  font-size: 20px;
}

.setup-skip {
  display: block;
  text-align: center;
  margin-top: var(--space-1);
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  text-decoration: none;
}

.setup-skip:hover {
  color: var(--gris-700);
  text-decoration: underline;
}

/* Responsive Desktop */
@media (min-width: 768px) {
  .daily-setup-page {
    padding: var(--space-4);
    justify-content: center;
  }

  .setup-page-header {
    padding: var(--space-3) 0;
  }

  .setup-page-header__icon {
    font-size: 48px;
  }

  .setup-page-header__title {
    font-size: var(--font-size-2xl);
  }

  .setup-selectors {
    padding: var(--space-3);
  }

  .selector-chip {
    padding: var(--space-2) var(--space-1);
  }

  .selector-chip__icon {
    font-size: 24px;
  }

  .selector-chip__label {
    font-size: var(--font-size-xs);
  }
}

/* ==========================================================================
   UI/UX IMPROVEMENTS v2.0
   Mejoras de accesibilidad, usabilidad y experiencia visual
   Para mujeres 40+ que quieren organizarse para cuidarse
   ========================================================================== */

/* --------------------------------------------------------------------------
   1. ACCESIBILIDAD GLOBAL
   WCAG 2.1 AA: Mejor contraste, focus visible, touch targets
   -------------------------------------------------------------------------- */

/* Focus visible mejorado para todos los elementos interactivos */
:focus-visible {
  outline: 3px solid var(--turquesa-400);
  outline-offset: 2px;
}

/* Animacion de focus suave */
*:focus-visible {
  transition: outline-offset 0.1s ease;
}

/* Skip link para navegacion por teclado */
.skip-link {
  position: absolute;
  top: -100%;
  left: 50%;
  transform: translateX(-50%);
  background: var(--gris-900);
  color: white;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  z-index: 9999;
  text-decoration: none;
  font-weight: 500;
}

.skip-link:focus {
  top: var(--space-2);
}

/* Touch targets minimos de 44px para mobile */
@media (max-width: 768px) {
  .btn,
  .nav-link,
  .focus-checkbox,
  .color-option,
  input[type="checkbox"],
  input[type="radio"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Checkboxes mas grandes en mobile */
  .focus-checkbox,
  .menu-item__checkbox,
  input[type="checkbox"] {
    width: 24px;
    height: 24px;
  }
}

/* Mejor contraste de texto para personas con vision reducida */
.page-description,
.section-description,
.form-group small,
.empty-state {
  color: var(--gris-600);
}

/* --------------------------------------------------------------------------
   2. TIPOGRAFIA MEJORADA
   Legibilidad optimizada para 40+
   -------------------------------------------------------------------------- */

/* Incrementar line-height para mejor legibilidad */
body {
  line-height: 1.6;
}

/* Texto mas grande en contenido principal */
.dashboard__section p,
.journal-page p,
.habits-page p,
.settings-page p {
  font-size: 1.05rem;
  line-height: 1.7;
}

/* Headers con mejor espaciado */
.page-title {
  letter-spacing: -0.02em;
  margin-bottom: var(--space-2);
}

.section-title {
  letter-spacing: -0.01em;
}

/* Texto de botones con mejor peso visual */
.btn {
  font-weight: 600;
  letter-spacing: 0.01em;
}

/* --------------------------------------------------------------------------
   3. MEJORAS DEL DASHBOARD
   Centro de calma y claridad
   -------------------------------------------------------------------------- */

/* Header del dashboard con gradiente sutil */
.dashboard__header {
  position: relative;
  padding: var(--space-3);
  margin: calc(-1 * var(--space-3)) calc(-1 * var(--space-4)) var(--space-3);
  background: linear-gradient(135deg, var(--turquesa-100) 0%, var(--gris-50) 100%);
  border-radius: 0 0 var(--radius-lg) var(--radius-lg);
}

/* Titulo mas impactante */
.dashboard__title {
  font-size: clamp(2rem, 5vw, 2.5rem);
  background: linear-gradient(135deg, var(--turquesa-600), var(--turquesa-700));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Fecha con estilo mas elegante */
.dashboard__date {
  font-size: var(--font-size-lg);
  color: var(--gris-700);
  font-weight: 500;
}

/* Secciones del dashboard con hover sutil */
.dashboard__section {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.dashboard__section:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

/* Seccion de foco con enfasis visual */
.dashboard__focus {
  border-left: 4px solid var(--turquesa-500);
  background: linear-gradient(135deg, white 0%, var(--turquesa-50) 100%);
}

/* Seccion de habito con fondo calido */
.dashboard__habit {
  background: linear-gradient(135deg, white 0%, var(--tulip-tree-50) 100%);
}

/* Seccion de eventos con indicador visual */
.dashboard__events {
  border-top: 3px solid var(--gris-200);
}

/* Seccion de logros con celebracion */
.dashboard__achievements {
  background: linear-gradient(135deg, var(--tulip-tree-50) 0%, white 100%);
  border-left: 4px solid var(--tulip-tree-500);
}

/* Seccion de quote con estilo zen */
.dashboard__quote {
  background: var(--gris-800);
  color: white;
  position: relative;
  overflow: hidden;
}

.dashboard__quote::before {
  content: '"';
  position: absolute;
  top: -20px;
  left: 10px;
  font-size: 8rem;
  font-family: Georgia, serif;
  color: rgba(255, 255, 255, 0.08);
  line-height: 1;
}

.dashboard__quote .quote {
  position: relative;
  z-index: 1;
}

.dashboard__quote .quote p {
  color: rgba(255, 255, 255, 0.95);
  font-size: var(--font-size-lg);
  font-style: italic;
  line-height: 1.7;
}

.dashboard__quote .quote cite {
  color: var(--turquesa-400);
  font-style: normal;
  display: block;
  margin-top: var(--space-2);
  font-size: var(--font-size-sm);
}

/* FAB mejorado con animacion */
.fab {
  position: fixed;
  bottom: var(--space-3);
  right: var(--space-3);
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-2) var(--space-3);
  background: #e11d48;
  color: white;
  border: none;
  border-radius: var(--radius-full);
  font-weight: 700;
  font-size: var(--font-size-sm);
  cursor: pointer;
  box-shadow: 0 4px 20px rgba(225, 29, 72, 0.5);
  transition: all 0.3s ease;
  z-index: 50;
}

.fab:hover {
  transform: translateY(-3px) scale(1.02);
  background: #be123c;
  box-shadow: 0 8px 28px rgba(225, 29, 72, 0.6);
}

.fab .material-symbols-outlined {
  font-size: 20px;
  animation: pulse-glow 2s ease-in-out infinite;
}

@keyframes pulse-glow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
}

/* Botón de reconfigurar día */
.dashboard__reconfigure {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-2);
  margin-top: var(--space-1);
  background: var(--gris-100);
  color: var(--gris-600);
  border-radius: var(--radius-full);
  font-size: var(--font-size-xs);
  text-decoration: none;
  transition: all 0.2s ease;
}

.dashboard__reconfigure:hover {
  background: var(--turquesa-100);
  color: var(--turquesa-700);
}

.dashboard__reconfigure .material-symbols-outlined {
  font-size: 16px;
}

/* Focus item mejorado */
.focus-item {
  padding: var(--space-2) var(--space-2);
  border-radius: var(--radius-md);
  transition: all 0.2s ease;
  margin-bottom: var(--space-1);
  border: 1px solid transparent;
}

.focus-item:hover {
  background: var(--gris-50);
  border-color: var(--gris-200);
}

.focus-item--completed {
  background: var(--gris-50);
}

/* Checkbox estilizado */
.focus-checkbox {
  appearance: none;
  -webkit-appearance: none;
  width: 22px;
  height: 22px;
  border: 2px solid var(--gris-400);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  flex-shrink: 0;
}

.focus-checkbox:hover {
  border-color: var(--turquesa-500);
  background: var(--turquesa-50);
}

.focus-checkbox:checked {
  background: var(--turquesa-600);
  border-color: var(--turquesa-500);
}

.focus-checkbox:checked::after {
  content: '';
  position: absolute;
  top: 3px;
  left: 7px;
  width: 5px;
  height: 10px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

/* --------------------------------------------------------------------------
   4. MEJORAS DE NAVEGACION
   Claridad y accesibilidad
   -------------------------------------------------------------------------- */

/* Header con sombra mas pronunciada */
.app-header {
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
}

/* Nav links con transicion mejorada - tema oscuro */
.nav-link {
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-md);
  transition: all 0.2s ease;
  min-height: 44px;
  display: flex;
  align-items: center;
  color: var(--gris-300);
}

.nav-link:hover {
  background: var(--gris-800);
  color: white;
}

.nav-link.active {
  background: var(--turquesa-600);
  color: white;
  font-weight: 600;
}

/* Iconos de navegacion con mejor alineacion */
.nav-icon {
  font-size: 22px;
}

/* Ocultar texto en mobile, solo iconos */
@media (max-width: 768px) {
  .nav-text {
    display: none;
  }

  .nav-link {
    padding: var(--space-2);
  }

  .nav-icon {
    font-size: 24px;
  }
}

/* --------------------------------------------------------------------------
   5. MEJORAS DE FORMULARIOS
   Usabilidad y claridad visual
   -------------------------------------------------------------------------- */

/* Inputs con estado visual mejorado */
.input {
  padding: var(--space-2);
  font-size: var(--font-size-base);
  border: 2px solid var(--gris-300);
  border-radius: var(--radius-md);
  transition: all 0.2s ease;
}

.input:hover {
  border-color: var(--gris-400);
}

.input:focus {
  border-color: var(--turquesa-500);
  box-shadow: 0 0 0 4px var(--turquesa-100);
}

/* Labels mas visibles */
.form-group label {
  font-size: var(--font-size-base);
  font-weight: 600;
  color: var(--gris-800);
  margin-bottom: var(--space-1);
}

/* Placeholder con mejor contraste */
.input::placeholder {
  color: var(--gris-500);
}

/* Textarea con mejor redimensionamiento */
.textarea {
  resize: vertical;
  min-height: 100px;
  line-height: 1.6;
}

/* --------------------------------------------------------------------------
   6. MEJORAS DE MODALES
   Experiencia de dialogo mejorada
   -------------------------------------------------------------------------- */

/* Modal con backdrop mas oscuro */
.modal::backdrop {
  background: rgba(17, 24, 39, 0.7);
  backdrop-filter: blur(4px);
}

/* Modal con animacion de entrada */
.modal {
  animation: modalFadeIn 0.2s ease;
}

@keyframes modalFadeIn {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-10px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* Modal content con padding generoso */
.modal-content {
  padding: var(--space-4);
}

/* Modal title con mejor jerarquia */
.modal-title {
  font-size: var(--font-size-xl);
  color: var(--gris-900);
  padding-bottom: var(--space-2);
  border-bottom: 2px solid var(--gris-100);
  margin-bottom: var(--space-3);
}

/* Modal actions con mejor espaciado */
.modal-actions {
  display: flex;
  gap: var(--space-2);
  justify-content: flex-end;
  padding-top: var(--space-3);
  margin-top: var(--space-3);
  border-top: 1px solid var(--gris-200);
}

/* --------------------------------------------------------------------------
   7. MEJORAS DEL HABITO CARD
   Visualizacion motivacional
   -------------------------------------------------------------------------- */

/* Habit card con mejor estructura visual */
.habit-card {
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  background: linear-gradient(135deg, var(--turquesa-100) 0%, white 60%);
  border: 2px solid var(--turquesa-200);
  transition: all 0.3s ease;
}

.habit-card:hover {
  border-color: var(--turquesa-400);
  box-shadow: 0 4px 16px rgba(6, 182, 212, 0.15);
}

/* Identidad con estilo destacado */
.habit-identity {
  font-style: italic;
  color: var(--turquesa-700);
  font-size: var(--font-size-base);
  margin-bottom: var(--space-1);
  padding-left: var(--space-2);
  border-left: 3px solid var(--turquesa-400);
}

/* Nombre del habito mas prominente */
.habit-name {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--gris-900);
  margin-bottom: var(--space-1);
}

/* Trigger con estilo sutil */
.habit-trigger {
  color: var(--gris-600);
  font-size: var(--font-size-sm);
}

/* Streak con animacion de fuego */
.habit-streak {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.streak-icon {
  color: var(--tulip-tree-500);
  animation: flicker 1.5s ease-in-out infinite;
}

@keyframes flicker {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.85; transform: scale(1.05); }
}

.streak-count {
  font-weight: 700;
  font-size: var(--font-size-lg);
  color: var(--tulip-tree-700);
}

/* Estado completado */
.habit-done {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  color: var(--color-success);
  font-weight: 600;
}

/* --------------------------------------------------------------------------
   8. MEJORAS DE CITAS/QUOTES
   Estilo zen y reflexivo
   -------------------------------------------------------------------------- */

/* Quote base mejorado */
.quote {
  position: relative;
  padding: var(--space-3);
  padding-left: var(--space-4);
  margin: 0;
}

.quote p {
  font-size: var(--font-size-base);
  line-height: 1.8;
  color: var(--gris-700);
  margin: 0;
}

.quote cite {
  display: block;
  margin-top: var(--space-2);
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  font-style: normal;
}

/* Quote en header de pagina */
.quote--header {
  background: linear-gradient(135deg, var(--gris-50), white);
  border-radius: var(--radius-md);
  border-left: 4px solid var(--turquesa-400);
  margin-top: var(--space-2);
}

.quote--header p {
  font-style: italic;
}

/* --------------------------------------------------------------------------
   9. MEJORAS DE ESTADOS VACIOS
   Mensajes motivadores y claros
   -------------------------------------------------------------------------- */

/* Empty state con ilustracion */
.empty-state {
  padding: var(--space-4);
  text-align: center;
  border-radius: var(--radius-lg);
  background: linear-gradient(135deg, var(--gris-50), white);
}

.empty-state .material-symbols-outlined {
  font-size: 48px;
  color: var(--gris-300);
  margin-bottom: var(--space-2);
}

.empty-state p {
  color: var(--gris-600);
  font-size: var(--font-size-base);
  line-height: 1.7;
  max-width: 400px;
  margin: 0 auto var(--space-2);
}

.empty-state .btn {
  margin-top: var(--space-2);
}

/* --------------------------------------------------------------------------
   10. MEJORAS DE CALENDARIO
   Claridad y legibilidad
   -------------------------------------------------------------------------- */

/* Vista semanal con mejor espaciado */
.week-view {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 1px;
  background: var(--gris-200);
  border-radius: var(--radius-lg);
  overflow: hidden;
  margin-top: var(--space-3);
}

/* Columna de dia con fondo limpio */
.day-column {
  background: white;
  padding: var(--space-2);
  min-height: 150px;
}

/* Dia actual destacado */
.day-column--today {
  background: linear-gradient(180deg, var(--turquesa-50) 0%, white 30%);
}

.day-column--today .day-header {
  color: var(--turquesa-700);
}

/* Header de dia */
.day-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-bottom: var(--space-1);
  border-bottom: 1px solid var(--gris-100);
  margin-bottom: var(--space-1);
}

.day-name {
  font-size: var(--font-size-xs);
  font-weight: 600;
  text-transform: uppercase;
  color: var(--gris-500);
}

.day-number {
  font-size: var(--font-size-lg);
  font-weight: 700;
  color: var(--gris-800);
}

.day-column--today .day-number {
  background: var(--turquesa-600);
  color: white;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Eventos en el calendario */
.event-item {
  padding: var(--space-1);
  margin-bottom: 4px;
  border-radius: var(--radius-sm);
  background: var(--turquesa-100);
  border-left: 3px solid var(--turquesa-500);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all 0.2s ease;
}

.event-item:hover {
  background: var(--turquesa-200);
  transform: translateX(2px);
}

/* Evento de sincronia (tiempo con otros) */
.event-item--sincronia {
  background: var(--rosa-100);
  border-left-color: var(--rosa-500);
}

.event-item--sincronia:hover {
  background: var(--rosa-200);
}

/* Responsive calendario */
@media (max-width: 768px) {
  .week-view {
    grid-template-columns: 1fr;
    gap: var(--space-1);
    background: transparent;
  }

  .day-column {
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    min-height: auto;
  }

  .day-header {
    flex-direction: row;
    justify-content: space-between;
  }
}

/* --------------------------------------------------------------------------
   11. MEJORAS DEL DIARIO
   Espacio de reflexion calmo
   -------------------------------------------------------------------------- */

/* Botones de tipo de entrada */
.entry-type-buttons {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: var(--space-2);
  margin-top: var(--space-2);
}

.entry-type-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-3);
  background: white;
  border: 2px solid var(--gris-200);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: all 0.2s ease;
}

.entry-type-btn:hover {
  border-color: var(--turquesa-400);
  background: var(--turquesa-50);
  transform: translateY(-2px);
}

.entry-type-icon {
  font-size: 32px;
}

.entry-type-name {
  font-size: var(--font-size-sm);
  font-weight: 500;
  color: var(--gris-700);
}

/* Tarjetas de entrada del diario */
.entry-card {
  padding: var(--space-3);
  background: white;
  border-radius: var(--radius-lg);
  border: 1px solid var(--gris-200);
  margin-bottom: var(--space-2);
  cursor: pointer;
  transition: all 0.2s ease;
}

.entry-card:hover {
  border-color: var(--turquesa-300);
  box-shadow: var(--shadow-sm);
}

.entry-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-1);
}

.entry-type-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-size-xs);
  font-weight: 500;
  padding: 4px 8px;
  border-radius: var(--radius-full);
  background: var(--gris-100);
  color: var(--gris-700);
}

.entry-date {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

.entry-preview {
  color: var(--gris-600);
  font-size: var(--font-size-sm);
  line-height: 1.6;
  margin: 0;
}

/* Prompts del diario */
.prompts-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-1);
}

.prompt-item {
  padding: var(--space-1) var(--space-2);
  background: var(--turquesa-50);
  border: 1px solid var(--turquesa-200);
  border-radius: var(--radius-full);
  font-size: var(--font-size-sm);
  color: var(--turquesa-700);
  cursor: pointer;
  transition: all 0.2s ease;
}

.prompt-item:hover {
  background: var(--turquesa-700);
  border-color: var(--turquesa-700);
  color: white;
}

/* Herramientas Mark Manson */
.herramienta-descripcion {
  font-size: var(--font-size-base);
  color: var(--gris-700);
  margin-bottom: var(--space-2);
  line-height: 1.6;
}

.herramienta-instruccion {
  font-size: var(--font-size-sm);
  color: var(--turquesa-700);
  background: var(--turquesa-50);
  padding: var(--space-2);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-3);
  border-left: 3px solid var(--turquesa-400);
}

.herramienta-ejemplos {
  margin-bottom: var(--space-3);
  font-size: var(--font-size-sm);
}

.herramienta-ejemplos summary {
  cursor: pointer;
  color: var(--gris-500);
  font-weight: 500;
  padding: var(--space-1) 0;
}

.herramienta-ejemplos summary:hover {
  color: var(--gris-700);
}

.herramienta-ejemplos ul {
  margin-top: var(--space-2);
  padding-left: var(--space-4);
  color: var(--gris-600);
}

.herramienta-ejemplos li {
  margin-bottom: var(--space-1);
}

/* Listas de control (Control Analysis) */
.control-lists {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

@media (max-width: 480px) {
  .control-lists {
    grid-template-columns: 1fr;
  }
}

.control-list {
  padding: var(--space-2);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
}

.control-list h4 {
  font-size: var(--font-size-sm);
  font-weight: 600;
  margin-bottom: var(--space-1);
}

.control-list ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.control-list li {
  padding: var(--space-1) 0;
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.control-list--no {
  background: var(--rosa-50);
  border: 1px solid var(--rosa-200);
}

.control-list--no h4 {
  color: var(--rosa-700);
}

.control-list--no li::before {
  content: "✕";
  color: var(--rosa-500);
  font-weight: bold;
}

.control-list--yes {
  background: var(--turquesa-50);
  border: 1px solid var(--turquesa-200);
}

.control-list--yes h4 {
  color: var(--turquesa-700);
}

.control-list--yes li::before {
  content: "✓";
  color: var(--turquesa-500);
  font-weight: bold;
}

/* --------------------------------------------------------------------------
   12. MEJORAS DE LOGROS
   Celebracion y motivacion
   -------------------------------------------------------------------------- */

/* Stat cards con efecto hover */
.stat-card {
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  text-align: center;
  box-shadow: var(--shadow-sm);
  transition: all 0.2s ease;
  border: 1px solid var(--gris-100);
}

.stat-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-md);
  border-color: var(--turquesa-200);
}

.stat-card .stat-icon {
  font-size: 32px;
  margin-bottom: var(--space-1);
}

.stat-card .stat-value {
  font-size: var(--font-size-2xl);
  font-weight: 700;
  color: var(--gris-900);
  font-family: var(--font-family-headings);
}

.stat-card .stat-label {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  margin-top: 4px;
}

/* Heatmap mejorado */
.heatmap-day {
  width: 14px;
  height: 14px;
  border-radius: 3px;
  transition: transform 0.1s ease;
}

.heatmap-day:hover {
  transform: scale(1.3);
}

/* Badges de habitos graduados */
.graduated-badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-2) var(--space-3);
  background: linear-gradient(135deg, var(--turquesa-100), var(--turquesa-50));
  border: 2px solid var(--turquesa-300);
  border-radius: var(--radius-full);
  transition: all 0.2s ease;
}

.graduated-badge:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(6, 182, 212, 0.2);
}

.graduated-badge .badge-icon {
  color: var(--turquesa-600);
}

.graduated-badge .badge-name {
  font-weight: 600;
  color: var(--gris-800);
}

/* --------------------------------------------------------------------------
   13. MEJORAS DE CONFIGURACION
   Claridad y organizacion
   -------------------------------------------------------------------------- */

/* Secciones de configuracion */
.settings-section {
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-3);
  border: 1px solid var(--gris-200);
  transition: all 0.2s ease;
}

.settings-section:hover {
  box-shadow: var(--shadow-sm);
}

.settings-section h2 {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-size-lg);
  color: var(--gris-800);
  margin-bottom: var(--space-2);
}

/* Seccion de cuadernos con estilo especial */
.settings-section--notebooks {
  background: linear-gradient(135deg, white, var(--turquesa-50));
  border: 2px solid var(--turquesa-200);
}

/* Seccion de peligro */
.settings-section--danger {
  border: 2px solid var(--rosa-200);
  background: linear-gradient(135deg, white, var(--rosa-50));
}

.settings-section--danger h2 {
  color: var(--rosa-600);
}

/* Storage bar mejorada */
.storage-bar {
  height: 8px;
  background: var(--gris-200);
  border-radius: var(--radius-full);
  overflow: hidden;
  margin-top: var(--space-1);
}

.storage-bar__fill {
  height: 100%;
  background: linear-gradient(90deg, var(--turquesa-400), var(--turquesa-600));
  border-radius: var(--radius-full);
  transition: width 0.5s ease;
}

.storage-bar__fill.warning {
  background: linear-gradient(90deg, var(--tulip-tree-400), var(--rosa-500));
}

/* --------------------------------------------------------------------------
   14. ANIMACIONES Y TRANSICIONES GLOBALES
   Experiencia suave y calma
   -------------------------------------------------------------------------- */

/* Transicion suave para todos los elementos interactivos */
button,
a,
input,
textarea,
select,
.card,
.btn {
  transition: all 0.2s ease;
}

/* Animacion de entrada para elementos de lista */
@keyframes slideInFromRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Aplicar animacion a items nuevos */
.focus-item,
.entry-card,
.project-card,
.event-item {
  animation: slideInFromRight 0.3s ease;
}

/* Animacion de pulso para elementos importantes */
@keyframes gentle-pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(6, 182, 212, 0.4); }
  50% { box-shadow: 0 0 0 8px rgba(6, 182, 212, 0); }
}

/* Aplicar pulso a elementos que necesitan atencion */
.focus-item--rock,
.habit-card--needs-attention {
  animation: gentle-pulse 2s ease-in-out infinite;
}

/* --------------------------------------------------------------------------
   15. MEJORAS RESPONSIVE AVANZADAS
   Optimizado para diferentes dispositivos
   -------------------------------------------------------------------------- */

/* Tablet */
@media (min-width: 768px) and (max-width: 1024px) {
  .dashboard {
    grid-template-columns: repeat(2, 1fr);
  }

  .dashboard__header,
  .dashboard__quote {
    grid-column: 1 / -1;
  }
}

/* Desktop grande */
@media (min-width: 1200px) {
  .dashboard {
    grid-template-columns: repeat(3, 1fr);
  }

  .dashboard__header,
  .dashboard__focus,
  .dashboard__quote {
    grid-column: 1 / -1;
  }
}

/* Reducir movimiento para usuarios que lo prefieren */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Modo oscuro automatico (preparacion futura) */
@media (prefers-color-scheme: dark) {
  /* Placeholder para dark mode - no activado aun */
}

/* --------------------------------------------------------------------------
   16. UTILIDADES
   Clases de ayuda reutilizables
   -------------------------------------------------------------------------- */

/* Visualmente oculto pero accesible para screen readers */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Texto truncado */
.text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Flex center */
.flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Gap utilities */
.gap-1 { gap: var(--space-1); }
.gap-2 { gap: var(--space-2); }
.gap-3 { gap: var(--space-3); }

/* Margin utilities */
.mt-1 { margin-top: var(--space-1); }
.mt-2 { margin-top: var(--space-2); }
.mt-3 { margin-top: var(--space-3); }
.mb-1 { margin-bottom: var(--space-1); }
.mb-2 { margin-bottom: var(--space-2); }
.mb-3 { margin-bottom: var(--space-3); }

/* Link sutil mejorado */
.link-subtle {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  color: var(--gris-500);
  font-size: var(--font-size-sm);
  text-decoration: none;
  transition: all 0.2s ease;
  margin-top: var(--space-2);
}

.link-subtle:hover {
  color: var(--turquesa-600);
  text-decoration: none;
}

/* ==========================================================================
   MEJORAS ESPECIFICAS POR MODULO v2.0
   ========================================================================== */

/* --------------------------------------------------------------------------
   VALORES - Brujula interior
   -------------------------------------------------------------------------- */

.values-page {
  max-width: 900px;
  margin: 0 auto;
}

/* Puente hacia Rueda de la Vida */
.values-bridge {
  display: flex;
  gap: var(--space-2);
  align-items: center;
  padding: var(--space-2) var(--space-3);
  background: var(--gris-50);
  border-radius: var(--radius-md);
  margin-top: var(--space-3);
  font-size: var(--font-size-sm);
  color: var(--gris-700);
  border: 1px solid var(--gris-200);
}

.values-bridge .material-symbols-outlined {
  color: var(--turquesa-600);
  font-size: 22px;
  flex-shrink: 0;
}

.values-bridge p {
  margin: 0;
  line-height: 1.5;
}

.values-bridge a {
  color: var(--turquesa-700);
  font-weight: 600;
  text-decoration: underline;
  text-underline-offset: 2px;
}

.values-bridge a:hover {
  color: var(--turquesa-600);
}

.values-bridge a:focus-visible {
  outline: 2px solid var(--turquesa-500);
  outline-offset: 2px;
  border-radius: 2px;
}

/* Version prominente para estado vacio */
.values-bridge--prominent {
  flex-direction: column;
  align-items: flex-start;
  padding: var(--space-4);
  background: linear-gradient(135deg, var(--turquesa-50) 0%, var(--gris-50) 100%);
  border-left: 4px solid var(--turquesa-500);
  border-color: var(--turquesa-200);
  font-size: var(--font-size-base);
}

.values-bridge--prominent .values-bridge__content {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.values-bridge--prominent .material-symbols-outlined {
  font-size: 32px;
  color: var(--turquesa-600);
  margin-bottom: var(--space-2);
}

.values-bridge--prominent strong {
  display: block;
  color: var(--gris-800);
  font-size: var(--font-size-lg);
  font-family: var(--font-family-headings);
  margin-bottom: var(--space-1);
}

.values-bridge--prominent p {
  color: var(--gris-700);
  line-height: 1.6;
}

/* Guía de buenos/malos valores (Mark Manson) */
.values-guide {
  margin-top: var(--space-3);
  border: 1px solid var(--gris-200);
  border-radius: var(--radius-md);
  background: white;
}

.values-guide summary {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  cursor: pointer;
  color: var(--turquesa-700);
  font-weight: 500;
  font-size: var(--font-size-base);
  min-height: 48px;
  list-style: none;
}

.values-guide summary::-webkit-details-marker {
  display: none;
}

.values-guide summary::after {
  content: '';
  margin-left: auto;
  width: 8px;
  height: 8px;
  border-right: 2px solid var(--gris-400);
  border-bottom: 2px solid var(--gris-400);
  transform: rotate(45deg);
  transition: transform var(--transition-fast);
}

.values-guide[open] summary::after {
  transform: rotate(-135deg);
}

.values-guide summary .material-symbols-outlined {
  font-size: 20px;
}

.values-guide summary:hover {
  background: var(--gris-50);
}

.values-guide summary:focus-visible {
  outline: 2px solid var(--turquesa-500);
  outline-offset: 2px;
}

.values-guide[open] summary {
  border-bottom: 1px solid var(--gris-200);
}

.values-guide__content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-4);
  padding: var(--space-3);
  background: var(--gris-50);
}

.values-guide__content h4 {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-size-base);
  font-weight: 600;
  margin: 0 0 var(--space-1) 0;
}

.values-guide__content h4 .material-symbols-outlined {
  font-size: 20px;
}

.values-guide__subtitle {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  margin: 0 0 var(--space-2) 0;
}

.values-guide__content ul {
  margin: 0;
  padding-left: var(--space-3);
  font-size: var(--font-size-sm);
  color: var(--gris-700);
  line-height: 1.6;
}

.values-guide__content li {
  margin-bottom: var(--space-1);
  padding-left: 4px;
}

.good-values h4 {
  color: var(--verde-600);
}

.good-values h4 .material-symbols-outlined {
  color: var(--verde-500);
}

.bad-values h4 {
  color: var(--rosa-600);
}

.bad-values h4 .material-symbols-outlined {
  color: var(--rosa-500);
}

@media (max-width: 500px) {
  .values-guide__content {
    grid-template-columns: 1fr;
  }
}

/* Grid de valores con mejor adaptabilidad */
.values-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-3);
  margin-top: var(--space-3);
}

/* Tarjeta de valor mejorada */
.value-card {
  position: relative;
  background: white;
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  border: 1px solid var(--gris-200);
  box-shadow: var(--shadow-sm);
  transition: all 0.3s ease;
  overflow: hidden;
}

.value-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--turquesa-400), var(--rosa-400));
  opacity: 0;
  transition: opacity 0.3s ease;
}

.value-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
  border-color: var(--turquesa-300);
}

.value-card:hover::before {
  opacity: 1;
}

/* Icono de valor mas grande y decorativo */
.value-icon {
  font-size: 2.5rem;
  line-height: 1;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
}

/* Nombre del valor con gradiente sutil */
.value-name {
  font-size: var(--font-size-xl);
  color: var(--gris-900);
  font-weight: 700;
  background: linear-gradient(135deg, var(--gris-900), var(--gris-700));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Descripcion con mejor legibilidad */
.value-description {
  color: var(--gris-600);
  font-size: var(--font-size-base);
  line-height: 1.7;
  margin-top: var(--space-2);
}

/* Boton de agregar valor mejorado */
.value-card--add {
  border: 2px dashed var(--gris-300);
  background: linear-gradient(135deg, var(--gris-50), white);
  min-height: 200px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.value-card--add:hover {
  border-color: var(--turquesa-400);
  background: linear-gradient(135deg, var(--turquesa-50), white);
  transform: translateY(-4px);
}

.value-card--add:hover .material-symbols-outlined {
  color: var(--turquesa-500);
  transform: scale(1.1);
}

.value-card--add .material-symbols-outlined {
  transition: all 0.3s ease;
}

/* Seccion de reflexion mejorada */
.values-reflection {
  background: linear-gradient(135deg, white, var(--turquesa-50));
  border: 2px solid var(--turquesa-200);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  margin-top: var(--space-4);
}

.values-reflection h2 {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  color: var(--turquesa-700);
}

.values-reflection h2::before {
  content: '';
  width: 4px;
  height: 24px;
  background: var(--turquesa-600);
  border-radius: 2px;
}

.reflection-prompt {
  font-size: var(--font-size-lg);
  color: var(--gris-800);
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-md);
  border-left: 4px solid var(--turquesa-500);
  margin: var(--space-2) 0;
  line-height: 1.7;
}

.reflection-prompt strong {
  color: var(--turquesa-700);
}

/* Ejemplos de valores con estilo de lista */
.value-examples {
  list-style: none;
  padding: 0;
  margin-top: var(--space-3);
}

.value-examples li {
  display: flex;
  align-items: baseline;
  gap: var(--space-2);
  padding: var(--space-2);
  margin-bottom: var(--space-1);
  background: white;
  border-radius: var(--radius-md);
  transition: all 0.2s ease;
}

.value-examples li:hover {
  background: var(--turquesa-50);
  transform: translateX(4px);
}

.value-examples li strong {
  color: var(--turquesa-700);
  min-width: 100px;
}

/* --------------------------------------------------------------------------
   PROYECTOS - Gestion de iniciativas
   -------------------------------------------------------------------------- */

.projects-page {
  max-width: 1000px;
  margin: 0 auto;
}

/* Grid de proyectos */
.projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--space-3);
  margin-top: var(--space-3);
}

/* Tarjeta de proyecto mejorada */
.project-card {
  position: relative;
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  border: 2px solid var(--gris-200);
  box-shadow: var(--shadow-sm);
  transition: all 0.3s ease;
}

.project-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 6px;
  border-radius: var(--radius-lg) var(--radius-lg) 0 0;
  background: var(--project-color, var(--gris-300));
}

.project-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
  border-color: var(--project-color, var(--gris-400));
}

/* Estado del proyecto */
.project-status {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-size-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 4px 8px;
  border-radius: var(--radius-full);
}

.project-status--active {
  background: var(--turquesa-100);
  color: var(--turquesa-700);
}

.project-status--paused {
  background: var(--tulip-tree-100);
  color: var(--tulip-tree-700);
}

.project-status--completed {
  background: var(--gris-100);
  color: var(--gris-600);
}

/* Barra de progreso del proyecto */
.project-progress {
  margin-top: var(--space-2);
}

.project-progress__bar {
  height: 8px;
  background: var(--gris-200);
  border-radius: var(--radius-full);
  overflow: hidden;
}

.project-progress__fill {
  height: 100%;
  border-radius: var(--radius-full);
  background: linear-gradient(90deg, var(--project-color, var(--turquesa-400)), var(--turquesa-500));
  transition: width 0.5s ease;
}

.project-progress__text {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  margin-top: 4px;
  text-align: right;
}

/* --------------------------------------------------------------------------
   HABITOS - Laboratorio de cambio
   -------------------------------------------------------------------------- */

.habits-page {
  max-width: 800px;
  margin: 0 auto;
}

/* Tarjeta de habito activo mejorada */
.habit-active-card {
  background: linear-gradient(135deg, var(--turquesa-100), white);
  border: 2px solid var(--turquesa-300);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  position: relative;
  overflow: hidden;
}

.habit-active-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--turquesa-400), var(--tulip-tree-400));
}

/* Identidad del habito */
.habit-active-card .habit-identity {
  font-style: italic;
  font-size: var(--font-size-lg);
  color: var(--turquesa-700);
  margin-bottom: var(--space-2);
  padding-left: var(--space-2);
  border-left: 4px solid var(--turquesa-400);
  background: white;
  padding: var(--space-2);
  border-radius: 0 var(--radius-md) var(--radius-md) 0;
}

/* Las 4 leyes visualizadas */
.habit-laws {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-2);
  margin-top: var(--space-3);
}

.habit-law {
  background: white;
  padding: var(--space-2);
  border-radius: var(--radius-md);
  border-left: 3px solid var(--gris-300);
}

.habit-law--obvio { border-left-color: var(--turquesa-500); }
.habit-law--atractivo { border-left-color: var(--rosa-500); }
.habit-law--facil { border-left-color: var(--tulip-tree-500); }
.habit-law--satisfactorio { border-left-color: var(--color-success); }

.habit-law__title {
  font-size: var(--font-size-xs);
  font-weight: 600;
  text-transform: uppercase;
  color: var(--gris-500);
  margin-bottom: 4px;
}

.habit-law__content {
  font-size: var(--font-size-sm);
  color: var(--gris-700);
}

/* Calendario de habito (tracking) */
.habit-calendar {
  margin-top: var(--space-3);
}

.habit-calendar__grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
}

.habit-calendar__day {
  aspect-ratio: 1;
  border-radius: var(--radius-sm);
  background: var(--gris-100);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  transition: all 0.2s ease;
}

.habit-calendar__day--completed {
  background: var(--turquesa-400);
  color: white;
}

.habit-calendar__day--today {
  border: 2px solid var(--turquesa-600);
}

/* Actividades atelicas */
.atelic-activities {
  background: linear-gradient(135deg, var(--tulip-tree-50), white);
  border: 1px solid var(--tulip-tree-200);
  border-radius: var(--radius-lg);
  padding: var(--space-3);
  margin-top: var(--space-4);
}

.atelic-activities h3 {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  color: var(--tulip-tree-700);
  margin-bottom: var(--space-2);
}

.atelic-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: var(--space-2);
}

.atelic-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: var(--space-2);
  background: white;
  border-radius: var(--radius-md);
  border: 1px solid var(--gris-200);
  cursor: pointer;
  transition: all 0.2s ease;
}

.atelic-item:hover {
  border-color: var(--tulip-tree-400);
  background: var(--tulip-tree-50);
  transform: translateY(-2px);
}

.atelic-item__icon {
  font-size: 24px;
}

.atelic-item__name {
  font-size: var(--font-size-xs);
  color: var(--gris-600);
  text-align: center;
}

/* --------------------------------------------------------------------------
   SUGERENCIAS DE HÁBITOS (Mark Manson)
   -------------------------------------------------------------------------- */

.habit-suggestions {
  margin-top: var(--space-6);
  padding: var(--space-4);
  background: linear-gradient(135deg, var(--turquesa-50) 0%, var(--rosa-50) 100%);
  border-radius: var(--radius-lg);
  border: 1px solid var(--turquesa-200);
}

.habit-suggestions__header {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.habit-suggestions__header > .material-symbols-outlined {
  font-size: 36px;
  color: var(--turquesa-600);
  flex-shrink: 0;
}

.habit-suggestions__header h3 {
  margin: 0 0 var(--space-1) 0;
  font-family: var(--font-family-headings);
  font-size: var(--font-size-xl);
  color: var(--gris-800);
}

.habit-suggestions__header p {
  margin: 0;
  font-size: var(--font-size-base);
  color: var(--gris-700);
  line-height: 1.5;
}

.habit-suggestions .suggestion-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: var(--space-3);
}

.habit-suggestions .suggestion-card {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  padding: var(--space-4);
  background: white;
  border-radius: var(--radius-lg);
  border: 2px solid var(--gris-100);
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
  font-family: inherit;
  min-height: 200px;
  box-shadow: var(--shadow-sm);
}

.habit-suggestions .suggestion-card:hover {
  border-color: var(--turquesa-400);
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}

.habit-suggestions .suggestion-card:focus-visible {
  outline: 3px solid var(--turquesa-500);
  outline-offset: 2px;
}

.habit-suggestions .suggestion-card__icon {
  font-size: 40px;
  color: var(--turquesa-600);
}

.habit-suggestions .suggestion-card__name {
  margin: 0;
  font-family: var(--font-family-headings);
  font-size: var(--font-size-lg);
  color: var(--gris-800);
}

.habit-suggestions .suggestion-card__desc {
  margin: 0;
  font-size: var(--font-size-base);
  color: var(--gris-700);
  line-height: 1.5;
  flex-grow: 1;
}

.habit-suggestions .suggestion-card__benefits {
  display: flex;
  gap: var(--space-1);
  flex-wrap: wrap;
  margin-top: var(--space-2);
}

.habit-suggestions .benefit-tag {
  font-size: var(--font-size-sm);
  padding: 4px 12px;
  background: var(--turquesa-100);
  color: var(--turquesa-700);
  border-radius: var(--radius-full);
  font-weight: 500;
}

.habit-suggestions .suggestion-card__cta {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-1);
  margin-top: var(--space-2);
  padding: var(--space-2);
  border-top: 1px solid var(--gris-100);
  font-size: var(--font-size-base);
  font-weight: 600;
  color: var(--turquesa-700);
  min-height: 44px;
}

.habit-suggestions .suggestion-card:hover .suggestion-card__cta {
  color: var(--turquesa-600);
  background: var(--turquesa-50);
  border-radius: var(--radius-md);
}

@media (max-width: 600px) {
  .habit-suggestions {
    padding: var(--space-3);
  }

  .habit-suggestions__header {
    flex-direction: column;
    gap: var(--space-2);
  }

  .habit-suggestions .suggestion-cards {
    grid-template-columns: 1fr;
    gap: var(--space-3);
  }

  .habit-suggestions .suggestion-card {
    min-height: auto;
    padding: var(--space-3);
  }

  .habit-suggestions .suggestion-card__icon {
    font-size: 32px;
  }

  .habit-suggestions .suggestion-card__name {
    font-size: var(--font-size-base);
  }

  .habit-suggestions .suggestion-card__desc {
    font-size: var(--font-size-sm);
  }

  .habit-suggestions .suggestion-card__cta {
    width: 100%;
  }
}

/* --------------------------------------------------------------------------
   WIZARD Y AUDITORIA DE HABITOS (v1.5)
   -------------------------------------------------------------------------- */

/* Página completa del wizard/auditoría */
.wizard-page,
.audit-page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--gris-50);
}

/* Header del wizard */
.wizard-header {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  background: white;
  border-bottom: 1px solid var(--gris-200);
  position: sticky;
  top: 0;
  z-index: 10;
}

.wizard-progress {
  display: flex;
  gap: 8px;
  flex: 1;
  justify-content: center;
}

.wizard-step {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--gris-300);
  transition: all 0.3s ease;
}

.wizard-step.active {
  background: var(--turquesa-600);
  transform: scale(1.2);
}

.wizard-step.completed {
  background: var(--turquesa-400);
}

.wizard-progress-label {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  min-width: 80px;
  text-align: right;
}

/* Contenido del wizard */
.wizard-content {
  flex: 1;
  padding: var(--space-4);
  max-width: 1000px;
  margin: 0 auto;
  width: 100%;
}

.wizard-title {
  font-family: var(--font-family-headings);
  font-size: var(--font-size-2xl);
  color: var(--gris-800);
  margin-bottom: var(--space-2);
  text-align: center;
}

.wizard-subtitle {
  font-size: var(--font-size-base);
  color: var(--gris-600);
  text-align: center;
  margin-bottom: var(--space-4);
  line-height: 1.5;
}

/* Grid de áreas de vida */
.wizard-area-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-3);
  margin-top: var(--space-3);
}

.wizard-area-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-4);
  background: white;
  border: 2px solid var(--gris-200);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: center;
}

.wizard-area-card:hover {
  border-color: var(--turquesa-300);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.wizard-area-card.selected {
  border-color: var(--turquesa-500);
  background: var(--turquesa-50);
}

.wizard-area-icon {
  font-size: 40px;
  color: var(--turquesa-500);
}

.wizard-area-name {
  font-weight: 600;
  color: var(--gris-800);
}

.wizard-area-desc {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
}

/* Formulario del wizard */
.wizard-form-group {
  margin-bottom: var(--space-4);
}

.wizard-form-group label {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-weight: 600;
  color: var(--gris-700);
  margin-bottom: var(--space-1);
}

.wizard-examples,
.wizard-hint {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  margin-top: var(--space-1);
}

.input--large {
  font-size: var(--font-size-lg);
  padding: var(--space-3);
}

/* Badge de ley */
.wizard-law-badge {
  display: inline-block;
  background: var(--turquesa-100);
  color: var(--turquesa-700);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-full);
  font-size: var(--font-size-sm);
  font-weight: 600;
  margin-bottom: var(--space-2);
}

.wizard-law-badge.small {
  font-size: var(--font-size-xs);
  padding: 4px var(--space-2);
  margin-bottom: var(--space-1);
}

/* Opciones de duración */
.wizard-duration-options {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.wizard-duration-option {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3);
  background: white;
  border: 2px solid var(--gris-200);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all 0.2s ease;
}

.wizard-duration-option:hover {
  border-color: var(--turquesa-300);
}

.wizard-duration-option.selected {
  border-color: var(--turquesa-500);
  background: var(--turquesa-50);
}

.wizard-duration-option input[type="radio"] {
  width: 20px;
  height: 20px;
  accent-color: var(--turquesa-500);
}

.wizard-duration-value {
  font-weight: 600;
  color: var(--gris-800);
  min-width: 100px;
}

.wizard-duration-desc {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
}

/* Resumen del wizard */
.wizard-summary {
  background: white;
  border: 1px solid var(--gris-200);
  border-radius: var(--radius-lg);
  padding: var(--space-3);
  margin-bottom: var(--space-4);
}

.wizard-summary-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  color: var(--turquesa-600);
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-2);
}

.wizard-summary-habit {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.wizard-summary-habit strong {
  font-size: var(--font-size-lg);
  color: var(--gris-800);
}

.wizard-summary-habit span {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
}

/* Quote en wizard */
.quote--wizard {
  background: var(--turquesa-50);
  border-left-color: var(--turquesa-400);
  margin-top: var(--space-3);
}

/* Footer del wizard */
.wizard-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-3) var(--space-4);
  background: white;
  border-top: 1px solid var(--gris-200);
  position: sticky;
  bottom: 0;
}

.wizard-nav {
  display: flex;
  gap: var(--space-2);
}

/* Progress dots */
.wizard-progress-dots {
  display: flex;
  gap: 6px;
  align-items: center;
}

.wizard-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--gris-300);
  transition: all 0.3s ease;
}

.wizard-dot.active {
  background: var(--turquesa-600);
  transform: scale(1.3);
}

.wizard-dot.completed {
  background: var(--turquesa-400);
}

/* Progress bar */
.wizard-progress-bar {
  height: 4px;
  background: var(--gris-200);
  border-radius: 2px;
  overflow: hidden;
  flex: 1;
  max-width: 200px;
}

.wizard-progress-fill {
  height: 100%;
  background: var(--turquesa-600);
  transition: width 0.3s ease;
}

/* --------------------------------------------------------------------------
   EVALUACION RUEDA DE LA VIDA - Diseno Minimalista
   -------------------------------------------------------------------------- */

.evaluation-page {
  background: var(--gris-50);
  min-height: 100vh;
  /* Usar scroll natural del navegador */
}

.evaluation-page .wizard-content {
  padding: var(--space-4) 20px;
  padding-bottom: var(--space-6);
  /* Sin overflow, fluye con scroll del navegador */
}

/* Header del wizard de evaluacion - con navegacion integrada */
.evaluation-page .wizard-header {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-2) var(--space-3);
  padding: var(--space-3) var(--space-4);
  background: white;
  border-bottom: 1px solid var(--gris-200);
  /* Sin sticky - fluye con scroll natural */
}

.evaluation-page .wizard-header-left {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.evaluation-page .wizard-header-center {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex: 1;
  justify-content: center;
  min-width: 200px;
}

.evaluation-page .wizard-header-right {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

/* Ocultar footer en evaluation-page */
.evaluation-page .wizard-footer {
  display: none;
}

/* Responsive: en movil, botones debajo */
@media (max-width: 640px) {
  .evaluation-page .wizard-header {
    flex-direction: column;
    gap: var(--space-2);
  }

  .evaluation-page .wizard-header-left {
    width: 100%;
    justify-content: space-between;
  }

  .evaluation-page .wizard-header-center {
    width: 100%;
    justify-content: center;
  }

  .evaluation-page .wizard-header-right {
    width: 100%;
    justify-content: flex-end;
  }
}

/* Paso de evaluacion - layout compacto */
.eval-step {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  /* Sin max-width - ocupa todo el ancho disponible */
}

/* Header del area - inline compacto */
.eval-area-header {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  background: white;
  border-radius: var(--radius-lg);
  border-left: 4px solid var(--area-color);
  box-shadow: var(--shadow-sm);
}

.eval-area-header::after {
  display: none;
}

.eval-area-icon {
  font-size: 28px !important;
  color: var(--area-color);
  flex-shrink: 0;
}

.eval-area-info {
  flex: 1;
  min-width: 0;
}

.eval-area-title {
  font-family: var(--font-family-headings);
  font-size: var(--font-size-lg);
  color: var(--gris-800);
  margin: 0;
  line-height: 1.2;
}

.eval-area-subtitle {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  margin: 2px 0 0 0;
}

/* Sliders - layout compacto */
.eval-sliders {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  background: white;
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}

.eval-slider-group {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--space-2) var(--space-3);
  align-items: center;
  padding: var(--space-3);
  background: var(--gris-50);
  border-radius: var(--radius-md);
  border-left: 3px solid var(--turquesa-400);
}

.eval-slider-group--desired {
  border-left-color: var(--rosa-400);
}

.eval-slider-label {
  grid-column: 1 / -1;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 500;
  color: var(--gris-700);
  font-size: var(--font-size-sm);
}

.eval-slider-value {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background: var(--turquesa-600);
  color: white;
  font-weight: 600;
  font-size: var(--font-size-base);
  border-radius: 50%;
}

.eval-slider-value--desired {
  background: var(--rosa-600);
}

.eval-slider-container {
  grid-column: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.eval-slider {
  -webkit-appearance: none;
  width: 100%;
  height: 6px;
  border-radius: 3px;
  background: var(--gris-200);
  outline: none;
  cursor: pointer;
}

.eval-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--turquesa-600);
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  border: 2px solid white;
}

.eval-slider::-webkit-slider-thumb:hover {
  transform: scale(1.1);
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
}

.eval-slider:focus::-webkit-slider-thumb {
  box-shadow: 0 0 0 3px var(--turquesa-100);
}

.eval-slider--desired::-webkit-slider-thumb {
  background: var(--rosa-600);
}

.eval-slider--desired:focus::-webkit-slider-thumb {
  box-shadow: 0 0 0 3px var(--rosa-100);
}

/* Firefox support */
.eval-slider::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--turquesa-600);
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  border: 2px solid white;
}

.eval-slider--desired::-moz-range-thumb {
  background: var(--rosa-600);
}

.eval-slider-hints {
  display: flex;
  justify-content: space-between;
  font-size: 10px;
  color: var(--gris-400);
  padding: 0;
}

/* Reflexiones - compactas */
.eval-reflections {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.eval-reflections-title {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-family: var(--font-family-headings);
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin: 0;
}

.eval-reflections-title .material-symbols-outlined {
  color: var(--turquesa-600);
  font-size: 18px;
}

.eval-reflection-card {
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  transition: box-shadow 0.15s ease;
}

.eval-reflection-card:focus-within {
  box-shadow: 0 0 0 2px var(--turquesa-400);
}

.eval-reflection-card label {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-weight: 500;
  color: var(--gris-600);
  margin-bottom: var(--space-2);
  font-size: var(--font-size-xs);
}

.eval-reflection-card .material-symbols-outlined {
  color: var(--gris-400);
  font-size: 16px;
}

.eval-reflection-card textarea {
  min-height: 60px;
  resize: vertical;
  font-size: var(--font-size-sm);
}

.eval-reflections label {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-weight: 500;
  color: var(--gris-600);
  margin-bottom: var(--space-2);
}

.eval-reflections .material-symbols-outlined {
  color: var(--gris-400);
  font-size: 16px;
}

/* Resumen de evaluacion */
.eval-summary {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  align-items: center;
  max-width: 600px;
  margin: 0 auto;
}

.eval-summary-title {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-family: var(--font-family-headings);
  font-size: var(--font-size-xl);
  color: var(--gris-800);
  text-align: center;
}

.eval-summary-title .material-symbols-outlined {
  color: var(--turquesa-600);
  font-size: 28px;
}

.eval-summary-wheel {
  padding: var(--space-3);
  background: white;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
}

.eval-summary-scores {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-2);
  width: 100%;
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}

.eval-summary-score {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2);
  border-radius: var(--radius-sm);
  background: var(--gris-50);
  border-left: 3px solid var(--area-color);
  transition: background 0.15s ease;
}

.eval-summary-score:hover {
  background: var(--gris-100);
}

.eval-summary-score .material-symbols-outlined {
  color: var(--area-color);
  font-size: 18px;
}

.eval-summary-score .name {
  flex: 1;
  font-size: var(--font-size-xs);
  color: var(--gris-600);
}

.eval-summary-score .scores {
  display: flex;
  align-items: center;
  gap: 3px;
  font-size: var(--font-size-xs);
}

.eval-summary-score .current {
  font-weight: 600;
  color: var(--gris-500);
}

.eval-summary-score .arrow {
  color: var(--gris-300);
  font-size: 10px;
}

.eval-summary-score .desired {
  font-weight: 600;
  color: var(--rosa-600);
}

.eval-summary-score .diff {
  font-size: 10px;
  padding: 1px 4px;
  border-radius: 4px;
  font-weight: 600;
}

.eval-summary-score .diff.positive {
  background: var(--turquesa-100);
  color: var(--turquesa-700);
}

.eval-summary-score .diff.negative {
  background: var(--rosa-100);
  color: var(--rosa-600);
}

/* Triangulo de la Felicidad - Insight de Mark Manson */
.triangle-insight {
  width: 100%;
  background: linear-gradient(135deg, var(--turquesa-50), var(--gris-50));
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  border-left: 4px solid var(--turquesa-500);
  margin-top: var(--space-4);
  box-shadow: var(--shadow-sm);
}

.triangle-insight__header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.triangle-insight__header .material-symbols-outlined {
  font-size: 28px;
  color: var(--turquesa-600);
}

.triangle-insight__header h3 {
  font-size: var(--font-size-lg);
  font-family: var(--font-family-headings);
  font-weight: 600;
  color: var(--gris-800);
  margin: 0;
}

.triangle-insight__area {
  font-size: var(--font-size-base);
  color: var(--gris-700);
  margin: 0 0 var(--space-3) 0;
  line-height: 1.6;
}

.triangle-insight__area strong {
  color: var(--turquesa-700);
  font-weight: 600;
}

.triangle-insight__quote {
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-md);
  margin: 0;
  font-style: italic;
  border: 1px solid var(--gris-100);
}

.triangle-insight__quote p {
  margin: 0 0 var(--space-2) 0;
  color: var(--gris-700);
  font-size: var(--font-size-base);
  line-height: 1.6;
}

.triangle-insight__quote cite {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  font-style: normal;
  font-weight: 500;
}

/* Triangulo de la Felicidad - Vista principal */
.triangle-section {
  margin-top: var(--space-6);
  padding: var(--space-4);
  background: linear-gradient(135deg, var(--turquesa-50) 0%, var(--rosa-50) 100%);
  border-radius: var(--radius-lg);
  border: 1px solid var(--turquesa-200);
}

.triangle-section h3 {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin: 0 0 var(--space-2) 0;
  font-family: var(--font-family-headings);
  font-size: var(--font-size-xl);
  color: var(--turquesa-700);
}

.triangle-section h3 .material-symbols-outlined {
  font-size: 28px;
  color: var(--turquesa-600);
}

.triangle-section > p {
  margin: 0 0 var(--space-4) 0;
  color: var(--gris-700);
  font-size: var(--font-size-base);
  line-height: 1.5;
}

.triangle-pillars {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-3);
}

.triangle-pillar {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-4);
  background: white;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--gris-100);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  min-height: 160px;
}

.triangle-pillar:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-md);
}

.triangle-pillar:focus-visible {
  outline: 3px solid var(--turquesa-500);
  outline-offset: 2px;
}

.triangle-pillar .material-symbols-outlined {
  font-size: 36px;
}

.triangle-pillar.salud .material-symbols-outlined {
  color: var(--verde-500);
}

.triangle-pillar.salud {
  border-top: 3px solid var(--verde-400);
}

.triangle-pillar.relaciones .material-symbols-outlined {
  color: var(--rosa-500);
}

.triangle-pillar.relaciones {
  border-top: 3px solid var(--rosa-400);
}

.triangle-pillar.libertad .material-symbols-outlined {
  color: var(--turquesa-500);
}

.triangle-pillar.libertad {
  border-top: 3px solid var(--turquesa-400);
}

.triangle-pillar h4 {
  margin: 0;
  font-family: var(--font-family-headings);
  font-size: var(--font-size-lg);
  color: var(--gris-800);
}

.triangle-pillar .pillar-score {
  font-size: var(--font-size-2xl);
  font-weight: 700;
  color: var(--gris-800);
}

.triangle-pillar .pillar-areas {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
  text-align: center;
  line-height: 1.4;
}

.triangle-connection {
  margin-top: var(--space-4);
  padding: var(--space-3);
  background: white;
  border-radius: var(--radius-md);
  font-size: var(--font-size-base);
  color: var(--gris-700);
  text-align: center;
  font-style: italic;
  line-height: 1.5;
  border: 1px solid var(--gris-100);
}

@media (max-width: 600px) {
  .triangle-section {
    padding: var(--space-3);
  }

  .triangle-pillars {
    grid-template-columns: 1fr;
    gap: var(--space-2);
  }

  .triangle-pillar {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3);
    min-height: auto;
  }

  .triangle-pillar .material-symbols-outlined {
    font-size: 32px;
    flex-shrink: 0;
  }

  .triangle-pillar h4 {
    flex: 1;
    font-size: var(--font-size-base);
  }

  .triangle-pillar .pillar-score {
    font-size: var(--font-size-xl);
    flex-shrink: 0;
  }

  .triangle-pillar .pillar-areas {
    display: none;
  }
}

.eval-overall-reflection {
  width: 100%;
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
}

/* Responsive */
@media (max-width: 480px) {
  .evaluation-page .wizard-content {
    padding: var(--space-3);
  }

  .eval-step {
    gap: var(--space-2);
  }

  .eval-area-header {
    padding: var(--space-2) var(--space-3);
  }

  .eval-area-icon {
    font-size: 24px !important;
  }

  .eval-area-title {
    font-size: var(--font-size-base);
  }

  .eval-sliders {
    padding: var(--space-3);
    gap: var(--space-2);
  }

  .eval-slider-group {
    padding: var(--space-2);
  }

  .eval-slider-value {
    width: 32px;
    height: 32px;
    font-size: var(--font-size-sm);
  }

  .eval-slider::-webkit-slider-thumb {
    width: 18px;
    height: 18px;
  }

  .eval-reflection-card {
    padding: var(--space-2);
  }

  .eval-reflection-card textarea {
    min-height: 50px;
  }

  .eval-summary-scores {
    grid-template-columns: 1fr;
  }

  .eval-summary-title {
    font-size: var(--font-size-lg);
  }

  .eval-summary-title .material-symbols-outlined {
    font-size: 24px;
  }
}

/* --------------------------------------------------------------------------
   AUDITORIA DE HABITOS
   -------------------------------------------------------------------------- */

/* Lista de actividades en auditoría */
.audit-activities-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.audit-activity-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-2) var(--space-3);
  background: white;
  border: 1px solid var(--gris-200);
  border-radius: var(--radius-md);
}

.audit-activity-name {
  flex: 1;
  color: var(--gris-700);
}

/* Formulario para añadir actividad */
.audit-add-form {
  display: flex;
  gap: var(--space-2);
}

.audit-add-form .input {
  flex: 1;
}

.audit-empty-hint {
  text-align: center;
  color: var(--gris-500);
  font-size: var(--font-size-sm);
  margin-top: var(--space-3);
  padding: var(--space-3);
  background: var(--gris-50);
  border-radius: var(--radius-md);
}

/* Lista de evaluación */
.audit-evaluate-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.audit-evaluate-item {
  background: white;
  border: 1px solid var(--gris-200);
  border-radius: var(--radius-md);
  padding: var(--space-3);
}

.audit-evaluate-name {
  display: block;
  font-weight: 600;
  color: var(--gris-800);
  margin-bottom: var(--space-2);
}

.audit-evaluate-buttons {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

/* Botones de evaluación */
.btn--eval {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: var(--space-1) var(--space-2);
  border: 2px solid var(--gris-300);
  border-radius: var(--radius-md);
  background: white;
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn--eval:hover {
  border-color: var(--gris-400);
}

.btn--eval.selected.maintain {
  background: var(--color-success-light);
  border-color: var(--color-success);
  color: var(--color-success);
}

.btn--eval.selected.change {
  background: var(--rosa-100);
  border-color: var(--rosa-500);
  color: var(--rosa-600);
}

.btn--eval.selected.indifferent {
  background: var(--gris-100);
  border-color: var(--gris-400);
  color: var(--gris-600);
}

/* Lista de selección */
.audit-select-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.audit-select-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3);
  background: white;
  border: 2px solid var(--rosa-200);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all 0.2s ease;
  width: 100%;
  text-align: left;
}

.audit-select-item:hover {
  border-color: var(--rosa-400);
  background: var(--rosa-50);
  transform: translateX(4px);
}

.audit-select-item span:first-child {
  color: var(--rosa-500);
}

.audit-select-item span:last-child {
  margin-left: auto;
  color: var(--gris-400);
}

/* Sin cambios en auditoría */
.audit-no-changes {
  text-align: center;
  padding: var(--space-4);
}

.audit-no-changes p {
  color: var(--gris-600);
  margin: var(--space-2) 0;
}

/* --------------------------------------------------------------------------
   MEJORAS EN TARJETA DE HABITO ACTIVO (v1.5)
   -------------------------------------------------------------------------- */

/* Badge de área de vida */
.habit-area-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  background: var(--turquesa-100);
  color: var(--turquesa-700);
  padding: 4px var(--space-2);
  border-radius: var(--radius-full);
  font-size: var(--font-size-sm);
  font-weight: 500;
  margin-bottom: var(--space-2);
}

/* Cuándo y dónde */
.habit-when-where {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  color: var(--gris-500);
  font-size: var(--font-size-sm);
  margin-top: var(--space-1);
}

.habit-when-where span {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

/* Empty state mejorado para hábitos */
.empty-state--habits {
  text-align: center;
  padding: var(--space-6);
}

.empty-state--habits h3 {
  font-family: var(--font-family-headings);
  color: var(--gris-700);
  margin: var(--space-2) 0;
}

.empty-state-actions {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin-top: var(--space-4);
}

@media (min-width: 480px) {
  .empty-state-actions {
    flex-direction: row;
    justify-content: center;
  }
}

/* --------------------------------------------------------------------------
   LOGROS - Celebracion y recapitulacion
   -------------------------------------------------------------------------- */

.achievements-page {
  max-width: 1000px;
  margin: 0 auto;
}

/* Selector de periodo mejorado */
.period-selector {
  display: flex;
  gap: 4px;
  background: var(--gris-100);
  padding: 4px;
  border-radius: var(--radius-full);
  width: fit-content;
  margin: var(--space-3) auto;
}

.period-btn {
  padding: var(--space-1) var(--space-3);
  border: none;
  background: transparent;
  border-radius: var(--radius-full);
  font-weight: 500;
  color: var(--gris-600);
  cursor: pointer;
  transition: all 0.2s ease;
}

.period-btn:hover {
  color: var(--gris-800);
}

.period-btn.active {
  background: white;
  color: var(--turquesa-700);
  box-shadow: var(--shadow-sm);
}

/* Grid de estadisticas mejorado */
.achievements-summary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: var(--space-2);
  margin-top: var(--space-3);
}

/* Card de recapitulacion */
.recap-card {
  background: linear-gradient(135deg, white, var(--turquesa-50));
  border: 1px solid var(--turquesa-200);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  font-size: var(--font-size-lg);
  line-height: 1.8;
  color: var(--gris-700);
}

.recap-highlight {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  margin-top: var(--space-2);
  padding: var(--space-2);
  background: var(--tulip-tree-100);
  border-radius: var(--radius-md);
  color: var(--tulip-tree-800);
  font-weight: 500;
}

/* Heatmap contenedor */
.heatmap-container {
  background: white;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  overflow-x: auto;
}

.heatmap-wrapper {
  min-width: 700px;
}

/* Estilos de intensidad del heatmap */
.heatmap-day--level-0 { background: var(--gris-100); }
.heatmap-day--level-1 { background: var(--turquesa-200); }
.heatmap-day--level-2 { background: var(--turquesa-400); }
.heatmap-day--level-3 { background: var(--turquesa-600); }
.heatmap-day--level-4 { background: var(--turquesa-600); }

/* Seccion de logros espontaneos */
.achievements-spontaneous {
  background: linear-gradient(135deg, var(--tulip-tree-50), white);
  border: 1px solid var(--tulip-tree-200);
  border-radius: var(--radius-lg);
  padding: var(--space-3);
  margin-top: var(--space-4);
}

.spontaneous-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.spontaneous-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2);
  background: white;
  border-radius: var(--radius-md);
  margin-bottom: var(--space-1);
  transition: all 0.2s ease;
}

.spontaneous-item:hover {
  box-shadow: var(--shadow-sm);
}

.spontaneous-item__mood {
  font-size: 24px;
}

.spontaneous-item__text {
  flex: 1;
  color: var(--gris-800);
}

.spontaneous-item__date {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

/* --------------------------------------------------------------------------
   KANBAN - Horizontes temporales
   -------------------------------------------------------------------------- */

.kanban-page {
  max-width: 100%;
}

/* Header del kanban con controles */
.kanban-header {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

/* Tarjeta de tarea en kanban */
.kanban-item {
  background: white;
  padding: var(--space-2);
  border-radius: var(--radius-md);
  border: 1px solid var(--gris-200);
  margin-bottom: var(--space-1);
  cursor: grab;
  transition: all 0.2s ease;
}

.kanban-item:hover {
  border-color: var(--turquesa-300);
  box-shadow: var(--shadow-sm);
}

.kanban-item:active {
  cursor: grabbing;
  box-shadow: var(--shadow-md);
}

.kanban-item--dragging {
  opacity: 0.5;
  transform: rotate(2deg);
}

.kanban-item__text {
  font-size: var(--font-size-sm);
  color: var(--gris-800);
  line-height: 1.5;
}

.kanban-item__project {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-size-xs);
  color: var(--project-color, var(--gris-600));
  margin-top: var(--space-1);
  padding: 2px 6px;
  background: rgba(0,0,0,0.05);
  border-radius: var(--radius-sm);
}

/* Columnas de kanban */
.kanban-column {
  background: var(--gris-50);
  border-radius: var(--radius-lg);
  padding: var(--space-2);
  min-height: 300px;
}

.kanban-column__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: var(--space-2);
  margin-bottom: var(--space-2);
  border-bottom: 1px solid var(--gris-200);
}

.kanban-column__title {
  font-size: var(--font-size-sm);
  font-weight: 600;
  color: var(--gris-700);
  display: flex;
  align-items: center;
  gap: 4px;
}

.kanban-column__count {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  background: var(--gris-200);
  padding: 2px 8px;
  border-radius: var(--radius-full);
}

/* --------------------------------------------------------------------------
   FIN DE MEJORAS UI/UX v2.0
   -------------------------------------------------------------------------- */

/* ==========================================================================
   RUEDA DE LA VIDA (v1.4)
   ========================================================================== */

/* Página principal */
.life-wheel-page {
  padding: var(--space-4);
  max-width: 1200px;
  margin: 0 auto;
}

.life-wheel-page .page-header {
  margin-bottom: var(--space-4);
}

.life-wheel-page .page-title {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

/* Acciones principales */
.wheel-actions {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
  padding-bottom: var(--space-3);
  border-bottom: 1px solid var(--gris-200);
}

.view-toggle {
  display: flex;
  gap: var(--space-1);
  background: var(--gris-100);
  padding: 4px;
  border-radius: var(--radius-lg);
}

.view-toggle .btn {
  padding: var(--space-1) var(--space-2);
  font-size: var(--font-size-sm);
}

.view-toggle .btn.active {
  background: white;
  box-shadow: var(--shadow-sm);
}

/* Contenido principal */
.wheel-content {
  min-height: 400px;
}

/* Vista de la rueda */
.wheel-view {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-4);
}

.wheel-chart-container {
  max-width: 500px;
  width: 100%;
}

/* Leyenda */
.wheel-legend {
  display: flex;
  gap: var(--space-4);
  justify-content: center;
  font-size: var(--font-size-sm);
}

.legend-item {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.legend-color {
  width: 24px;
  height: 4px;
  border-radius: 2px;
}

.legend-color--current {
  background: var(--turquesa-600);
}

.legend-color--desired {
  background: var(--turquesa-300);
  background: repeating-linear-gradient(
    90deg,
    var(--turquesa-300) 0,
    var(--turquesa-300) 8px,
    transparent 8px,
    transparent 12px
  );
}

/* Grid de puntuaciones */
.wheel-scores-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: var(--space-3);
  width: 100%;
  max-width: 800px;
}

.score-card {
  background: white;
  border-radius: var(--radius-md);
  padding: var(--space-3);
  box-shadow: var(--shadow-sm);
  border-left: 4px solid var(--area-color, var(--gris-300));
  transition: box-shadow var(--transition-fast);
}

.score-card:hover {
  box-shadow: var(--shadow-md);
}

.score-card__header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-2);
}

.score-card__header .material-symbols-outlined {
  color: var(--area-color, var(--gris-500));
}

.score-card__name {
  font-weight: 500;
  font-size: var(--font-size-sm);
  color: var(--gris-700);
}

.score-card__scores {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-size-lg);
  font-weight: 600;
}

.score-current {
  color: var(--gris-700);
}

.score-arrow {
  color: var(--gris-400);
  font-size: var(--font-size-sm);
}

.score-desired {
  color: var(--turquesa-600);
}

.score-diff {
  font-size: var(--font-size-xs);
  padding: 2px 6px;
  border-radius: var(--radius-sm);
  margin-left: var(--space-1);
}

.score-diff--positive {
  background: var(--verde-100);
  color: var(--verde-700);
}

.score-card__details {
  margin-top: var(--space-2);
  font-size: var(--font-size-xs);
}

/* Reflexión general */
.overall-reflection {
  background: var(--gris-50);
  padding: var(--space-3);
  border-radius: var(--radius-md);
  margin-top: var(--space-3);
  width: 100%;
  max-width: 600px;
}

.overall-reflection h3 {
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-2);
  color: var(--gris-600);
}

.overall-reflection p {
  font-size: var(--font-size-sm);
  color: var(--gris-700);
  line-height: 1.6;
}

/* Selector de evaluación */
.evaluation-selector {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin: var(--space-4) 0;
  padding: var(--space-3);
  background: var(--gris-50);
  border-radius: var(--radius-md);
}

.evaluation-selector label {
  font-size: var(--font-size-sm);
  color: var(--gris-600);
}

.evaluation-selector select {
  min-width: 200px;
}

/* Reflexión de Burkeman */
.wheel-reflection {
  margin: var(--space-4) 0;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
}

/* Gestión de áreas */
.wheel-areas-management {
  margin-top: var(--space-6);
  padding-top: var(--space-4);
  border-top: 1px solid var(--gris-200);
}

.wheel-areas-management h2 {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--font-size-lg);
  margin-bottom: var(--space-2);
}

.areas-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin-top: var(--space-3);
}

.area-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background: white;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
}

.area-item__order {
  font-size: var(--font-size-xs);
  color: var(--gris-400);
  width: 20px;
}

.area-item__icon {
  color: var(--turquesa-500);
}

.area-item__name {
  flex: 1;
  font-weight: 500;
}

.area-item__value {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: var(--font-size-xs);
  color: var(--turquesa-600);
  background: var(--turquesa-50);
  padding: 2px 8px;
  border-radius: var(--radius-sm);
}

.area-item__edit {
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.area-item:hover .area-item__edit {
  opacity: 1;
}

/* Estado vacío */
.wheel-empty {
  text-align: center;
  padding: var(--space-6);
}

.wheel-empty h3 {
  margin-bottom: var(--space-3);
}

.wheel-preview {
  max-width: 350px;
  margin: var(--space-4) auto;
  opacity: 0.6;
}

/* ==========================================================================
   WIZARD DE EVALUACIÓN
   ========================================================================== */

.modal--large {
  max-width: 700px;
  width: 95%;
}

.evaluation-wizard {
  display: flex;
  flex-direction: column;
  min-height: 500px;
}

.wizard-header {
  padding-bottom: var(--space-3);
  border-bottom: 1px solid var(--gris-200);
  margin-bottom: var(--space-4);
}

.wizard-progress {
  margin-top: var(--space-2);
}

.wizard-step-indicator {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  margin-bottom: var(--space-2);
  display: block;
}

.wizard-progress-bar {
  height: 4px;
  background: var(--gris-200);
  border-radius: 2px;
  overflow: hidden;
}

.wizard-progress-fill {
  height: 100%;
  background: var(--turquesa-600);
  transition: width 0.3s ease;
}

.wizard-content {
  flex: 1;
  overflow-y: auto;
}

.wizard-footer {
  display: flex;
  justify-content: space-between;
  padding-top: var(--space-3);
  border-top: 1px solid var(--gris-200);
  margin-top: var(--space-4);
}

.wizard-nav {
  display: flex;
  gap: var(--space-2);
}

/* Paso de área */
.wizard-step--area {
  padding: var(--space-2);
}

.wizard-area-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-4);
  background: linear-gradient(135deg, var(--area-color, var(--turquesa-500)) 0%, color-mix(in srgb, var(--area-color, var(--turquesa-500)) 80%, black) 100%);
  border-radius: var(--radius-lg);
  color: white;
  margin-bottom: var(--space-4);
}

.wizard-area-header .icon-xl {
  font-size: 48px;
}

.wizard-area-header h3 {
  margin: 0;
  font-size: var(--font-size-xl);
}

/* Sliders */
.wizard-sliders {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  margin-bottom: var(--space-4);
}

.slider-group {
  padding: var(--space-3);
  background: var(--gris-50);
  border-radius: var(--radius-md);
}

.slider-group label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-2);
  font-weight: 500;
}

.slider-value {
  font-size: var(--font-size-xl);
  font-weight: 700;
  color: var(--turquesa-600);
  min-width: 30px;
  text-align: center;
}

.slider {
  width: 100%;
  height: 8px;
  border-radius: 4px;
  background: var(--gris-200);
  appearance: none;
  cursor: pointer;
}

.slider::-webkit-slider-thumb {
  appearance: none;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--turquesa-600);
  border: 3px solid white;
  box-shadow: var(--shadow-md);
  cursor: grab;
}

.slider::-webkit-slider-thumb:active {
  cursor: grabbing;
  transform: scale(1.1);
}

.slider-labels {
  display: flex;
  justify-content: space-between;
  font-size: var(--font-size-xs);
  color: var(--gris-500);
  margin-top: var(--space-1);
}

/* Reflexiones del wizard */
.wizard-reflections {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.wizard-reflections .form-group {
  margin-bottom: 0;
}

.wizard-reflections label {
  font-size: var(--font-size-sm);
  font-weight: 500;
}

.wizard-reflections textarea {
  font-size: var(--font-size-sm);
}

/* Paso de resumen */
.wizard-step--summary {
  text-align: center;
}

.wizard-step--summary h3 {
  margin-bottom: var(--space-3);
}

.summary-wheel {
  max-width: 350px;
  margin: 0 auto var(--space-4);
}

.summary-scores {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-2);
  margin-bottom: var(--space-4);
  text-align: left;
}

.summary-score-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2);
  background: var(--gris-50);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
}

.summary-score-item .name {
  flex: 1;
}

.summary-score-item .scores {
  font-weight: 600;
  color: var(--turquesa-600);
}

/* ==========================================================================
   GRÁFICOS SVG
   ========================================================================== */

/* Gráfico de rueda */
.wheel-chart {
  width: 100%;
  height: auto;
}

.wheel-grid-circle {
  stroke: var(--gris-200);
}

.wheel-grid-label {
  fill: var(--gris-400);
  font-size: 10px;
}

.wheel-axis {
  stroke: var(--gris-200);
}

.wheel-current-path {
  transition: d 0.3s ease;
}

.wheel-desired-path {
  opacity: 0.7;
}

.wheel-point {
  cursor: pointer;
  transition: r 0.2s ease;
}

.wheel-point:hover {
  r: 10;
}

.wheel-label {
  font-size: 11px;
  font-weight: 500;
  fill: var(--gris-700);
}

.wheel-area-icon {
  display: block;
}

/* Gráfico de evolución */
.evolution-view {
  width: 100%;
}

.evolution-chart-container {
  width: 100%;
  overflow-x: auto;
  margin-bottom: var(--space-3);
}

.evolution-chart {
  min-width: 500px;
  width: 100%;
  height: auto;
}

.evolution-grid-line {
  stroke: var(--gris-200);
}

.evolution-line {
  transition: stroke-width 0.2s ease;
}

.evolution-area-group:hover .evolution-line {
  stroke-width: 4;
}

.evolution-point {
  cursor: pointer;
  transition: r 0.2s ease;
}

.evolution-point:hover {
  r: 8;
}

.evolution-y-label,
.evolution-x-label {
  fill: var(--gris-600);
}

.evolution-axis-title {
  fill: var(--gris-500);
}

/* Leyenda de evolución */
.evolution-legend {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  justify-content: center;
  padding: var(--space-3);
  background: var(--gris-50);
  border-radius: var(--radius-md);
}

.evolution-legend-item {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  cursor: pointer;
  font-size: var(--font-size-sm);
}

.evolution-legend-item input {
  margin: 0;
}

.evolution-legend-item .legend-color {
  width: 16px;
  height: 3px;
  border-radius: 2px;
}

/* Vista de comparación */
.compare-view {
  width: 100%;
}

.compare-selectors {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.compare-vs {
  font-weight: 600;
  color: var(--gris-500);
}

.compare-wheels {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-4);
  margin-bottom: var(--space-4);
}

.compare-wheel {
  text-align: center;
}

.compare-wheel h4 {
  margin-bottom: var(--space-2);
  color: var(--gris-600);
}

.compare-diff {
  background: var(--gris-50);
  padding: var(--space-3);
  border-radius: var(--radius-md);
}

.compare-diff h4 {
  margin-bottom: var(--space-3);
  text-align: center;
}

.compare-diff-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2);
  border-bottom: 1px solid var(--gris-200);
}

.compare-diff-item:last-child {
  border-bottom: none;
}

.compare-diff-item .name {
  flex: 1;
  font-size: var(--font-size-sm);
}

.compare-diff-item .diff {
  font-weight: 600;
  padding: 2px 8px;
  border-radius: var(--radius-sm);
}

.diff--positive {
  background: var(--verde-100);
  color: var(--verde-700);
}

.diff--negative {
  background: var(--rosa-100);
  color: var(--rosa-700);
}

.diff--neutral {
  background: var(--gris-100);
  color: var(--gris-600);
}

/* Sparkline */
.sparkline {
  display: inline-block;
  vertical-align: middle;
}

/* ==========================================================================
   RESPONSIVE - RUEDA DE LA VIDA
   ========================================================================== */

@media (max-width: 768px) {
  .wheel-actions {
    flex-direction: column;
    align-items: stretch;
  }

  .view-toggle {
    justify-content: center;
  }

  .wheel-scores-grid {
    grid-template-columns: 1fr;
  }

  .compare-wheels {
    grid-template-columns: 1fr;
  }

  .summary-scores {
    grid-template-columns: 1fr;
  }

  .wizard-area-header .icon-xl {
    font-size: 36px;
  }

  .modal--large {
    max-width: 100%;
    margin: var(--space-2);
  }

  .evaluation-wizard {
    min-height: auto;
  }
}

@media (max-width: 480px) {
  .life-wheel-page {
    padding: var(--space-2);
  }

  .wheel-legend {
    flex-direction: column;
    align-items: center;
  }

  .evolution-legend {
    flex-direction: column;
    align-items: flex-start;
  }

  .compare-selectors {
    flex-direction: column;
  }

  .wizard-nav {
    flex-direction: column;
    width: 100%;
  }

  .wizard-nav .btn {
    width: 100%;
  }
}

/* ===== EVALUADOR DE OBJETIVOS ===== */

.objective-evaluator {
  max-width: 700px;
  max-height: 90vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.evaluator-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-4);
  border-bottom: 1px solid var(--gris-200);
  flex-shrink: 0;
}

.evaluator-title {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.evaluator-title h2 {
  margin: 0;
  font-size: 1.25rem;
}

.evaluator-title .material-symbols-outlined {
  color: var(--turquesa-500);
  font-size: 28px;
}

.evaluator-objective-name {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-4);
  background: var(--gris-50);
  font-weight: 500;
  flex-shrink: 0;
}

.evaluator-objective-name .material-symbols-outlined {
  color: var(--turquesa-500);
}

.evaluator-body {
  flex: 1;
  overflow-y: auto;
  padding: var(--space-4);
}

.evaluator-footer {
  display: flex;
  justify-content: flex-end;
  gap: var(--space-3);
  padding: var(--space-4);
  border-top: 1px solid var(--gris-200);
  flex-shrink: 0;
}

/* Intro */
.evaluator-intro {
  margin-bottom: var(--space-4);
}

.evaluator-intro p {
  margin: 0;
  color: var(--gris-600);
}

.evaluator-hint {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-top: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background: var(--amarillo-50);
  border-radius: var(--radius-md);
  font-size: 0.875rem;
}

.evaluator-hint .material-symbols-outlined {
  color: var(--amarillo-600);
  font-size: 18px;
}

/* Lista de criterios */
.criteria-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.criterion-item {
  background: white;
  border: 1px solid var(--gris-200);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  transition: border-color 0.2s;
}

.criterion-item:hover {
  border-color: var(--turquesa-300);
}

.criterion-header {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.criterion-icon {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--turquesa-50);
  color: var(--turquesa-600);
  border-radius: var(--radius-md);
  flex-shrink: 0;
}

.criterion-info {
  flex: 1;
}

.criterion-name {
  margin: 0 0 var(--space-1);
  font-size: 1rem;
  font-weight: 600;
}

.criterion-description {
  margin: 0;
  font-size: 0.875rem;
  color: var(--gris-500);
}

.criterion-weight {
  flex-shrink: 0;
}

.weight-badge {
  display: inline-block;
  padding: 2px 6px;
  background: var(--violeta-100);
  color: var(--violeta-700);
  border-radius: var(--radius-sm);
  font-size: 0.75rem;
  font-weight: 600;
}

/* Slider del criterio */
.criterion-slider {
  padding: 0 var(--space-2);
}

.criterion-slider .slider {
  width: 100%;
  height: 8px;
  -webkit-appearance: none;
  appearance: none;
  background: linear-gradient(
    to right,
    var(--slider-color, var(--turquesa-500)) 0%,
    var(--slider-color, var(--turquesa-500)) var(--slider-fill, 50%),
    var(--gris-200) var(--slider-fill, 50%),
    var(--gris-200) 100%
  );
  border-radius: 4px;
  cursor: pointer;
}

.criterion-slider .slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 20px;
  height: 20px;
  background: white;
  border: 3px solid var(--slider-color, var(--turquesa-500));
  border-radius: 50%;
  cursor: grab;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: transform 0.15s;
}

.criterion-slider .slider::-webkit-slider-thumb:hover {
  transform: scale(1.1);
}

.criterion-slider .slider::-webkit-slider-thumb:active {
  cursor: grabbing;
  transform: scale(1.15);
}

.slider-labels {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: var(--space-1);
  font-size: 0.75rem;
  color: var(--gris-400);
}

.slider-value {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--gris-700);
}

/* Resultado */
.evaluator-result {
  text-align: center;
}

.result-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-4);
}

.result-icon {
  font-size: 64px;
}

.result--proceed .result-icon {
  color: var(--verde-500);
}

.result--review .result-icon {
  color: var(--amarillo-500);
}

.result--reconsider .result-icon {
  color: var(--rosa-500);
}

.result-score {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.score-value {
  font-size: 2.5rem;
  font-weight: 700;
}

.result--proceed .score-value {
  color: var(--verde-600);
}

.result--review .score-value {
  color: var(--amarillo-600);
}

.result--reconsider .score-value {
  color: var(--rosa-600);
}

.score-label {
  font-size: 1rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.result-description {
  max-width: 500px;
  margin: 0 auto var(--space-4);
  color: var(--gris-600);
  line-height: 1.6;
}

.result-quote {
  margin: 0 auto var(--space-6);
  padding: var(--space-3) var(--space-4);
  max-width: 400px;
  background: var(--gris-50);
  border-left: 4px solid var(--turquesa-500);
  font-style: italic;
  color: var(--gris-600);
  text-align: left;
}

/* Desglose */
.result-breakdown {
  text-align: left;
  margin-bottom: var(--space-4);
}

.result-breakdown h4 {
  margin: 0 0 var(--space-3);
  font-size: 0.875rem;
  color: var(--gris-500);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.breakdown-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-2);
}

.breakdown-item {
  display: grid;
  grid-template-columns: 24px 1fr auto;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2);
  background: var(--gris-50);
  border-radius: var(--radius-sm);
  font-size: 0.75rem;
}

.breakdown-icon {
  font-size: 18px;
  color: var(--gris-400);
}

.breakdown--high .breakdown-icon {
  color: var(--verde-500);
}

.breakdown--medium .breakdown-icon {
  color: var(--amarillo-500);
}

.breakdown--low .breakdown-icon {
  color: var(--rosa-500);
}

.breakdown-name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--gris-600);
}

.breakdown-score {
  font-weight: 600;
  color: var(--gris-700);
}

.breakdown-bar {
  grid-column: 2 / -1;
  height: 4px;
  background: var(--gris-200);
  border-radius: 2px;
  overflow: hidden;
}

.breakdown-fill {
  height: 100%;
  border-radius: 2px;
  transition: width 0.3s ease;
}

.breakdown--high .breakdown-fill {
  background: var(--verde-500);
}

.breakdown--medium .breakdown-fill {
  background: var(--amarillo-500);
}

.breakdown--low .breakdown-fill {
  background: var(--rosa-500);
}

/* Insights */
.result-insights {
  text-align: left;
}

.insight {
  display: flex;
  gap: var(--space-3);
  padding: var(--space-3);
  border-radius: var(--radius-md);
}

.insight .material-symbols-outlined {
  flex-shrink: 0;
  font-size: 24px;
}

.insight p {
  margin: 0;
}

.insight ul {
  margin: var(--space-2) 0 0;
  padding-left: var(--space-4);
}

.insight li {
  margin-bottom: var(--space-1);
}

.insight--positive {
  background: var(--verde-50);
  color: var(--verde-700);
}

.insight--positive .material-symbols-outlined {
  color: var(--verde-500);
}

.insight--attention {
  background: var(--amarillo-50);
  color: var(--amarillo-800);
}

.insight--attention .material-symbols-outlined {
  color: var(--amarillo-500);
}

/* Badge de evaluación para tarjetas */
.evaluation-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 50%;
}

.evaluation-badge .material-symbols-outlined {
  font-size: 16px;
}

.evaluation-badge.result--proceed {
  background: var(--verde-100);
  color: var(--verde-600);
}

.evaluation-badge.result--review {
  background: var(--amarillo-100);
  color: var(--amarillo-600);
}

.evaluation-badge.result--reconsider {
  background: var(--rosa-100);
  color: var(--rosa-600);
}

/* Responsive */
@media (max-width: 600px) {
  .objective-evaluator {
    max-width: 100%;
    margin: var(--space-2);
    max-height: calc(100vh - var(--space-4));
  }

  .breakdown-grid {
    grid-template-columns: 1fr;
  }

  .criterion-header {
    flex-wrap: wrap;
  }

  .evaluator-footer {
    flex-direction: column;
  }

  .evaluator-footer .btn {
    width: 100%;
  }
}

/* ===== MEJORAS KANBAN PARA EVALUACIÓN ===== */

.focus-item__title-row {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.horizon-item__checkbox {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.backlog-item__content {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-wrap: wrap;
}

/* Botón evaluar en acciones */
.item-evaluate {
  color: var(--violeta-500);
}

.item-evaluate:hover {
  color: var(--violeta-600);
  background: var(--violeta-50);
}

/* ===== CONEXIÓN RUEDA-VALORES ===== */

/* Áreas vinculadas en tarjeta de valor */
.value-linked-areas {
  margin-top: var(--space-3);
  padding-top: var(--space-3);
  border-top: 1px solid var(--gris-100);
}

.linked-label {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: 0.75rem;
  color: var(--gris-500);
  margin-bottom: var(--space-2);
}

.linked-label .material-symbols-outlined {
  font-size: 14px;
  color: var(--turquesa-500);
}

.linked-areas-list {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-1);
}

.linked-area-tag {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  background: var(--turquesa-50);
  color: var(--turquesa-700);
  border-radius: var(--radius-full);
  font-size: 0.75rem;
}

.linked-area-tag .material-symbols-outlined {
  font-size: 12px;
}

/* Sugerencias desde la rueda */
.wheel-suggestions {
  margin-top: var(--space-8);
  padding: var(--space-6);
  background: linear-gradient(135deg, var(--violeta-50), var(--turquesa-50));
  border-radius: var(--radius-xl);
  border: 1px solid var(--violeta-100);
}

.suggestions-header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.suggestions-header .material-symbols-outlined {
  color: var(--amarillo-500);
  font-size: 28px;
}

.suggestions-header h3 {
  margin: 0;
  font-size: 1.125rem;
  color: var(--gris-800);
}

.suggestions-intro {
  color: var(--gris-600);
  margin-bottom: var(--space-4);
  line-height: 1.6;
}

.suggestions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-4);
  margin-bottom: var(--space-4);
}

.wheel-suggestions .suggestion-card {
  background: white;
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  box-shadow: var(--shadow-sm);
}

.suggestion-header {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.suggestion-icon {
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--turquesa-100);
  color: var(--turquesa-600);
  border-radius: var(--radius-md);
  font-size: 24px;
}

.suggestion-header h4 {
  margin: 0 0 var(--space-1);
  font-size: 1rem;
  color: var(--gris-800);
}

.suggestion-gap {
  font-size: 0.875rem;
  color: var(--gris-500);
}

.suggestion-reflection {
  font-style: italic;
  color: var(--gris-600);
  font-size: 0.875rem;
  margin-bottom: var(--space-3);
  padding: var(--space-2);
  background: var(--gris-50);
  border-radius: var(--radius-sm);
  border-left: 3px solid var(--turquesa-400);
}

.suggestions-footer {
  text-align: center;
  margin: 0;
}

.suggestions-footer a {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  color: var(--turquesa-600);
  text-decoration: none;
  font-weight: 500;
}

.suggestions-footer a:hover {
  color: var(--turquesa-700);
  text-decoration: underline;
}

/* Responsive sugerencias */
@media (max-width: 600px) {
  .wheel-suggestions {
    padding: var(--space-4);
  }

  .suggestions-grid {
    grid-template-columns: 1fr;
  }
}


/* ============================================================
   HABITS PAGE - LAYOUT 2 COLUMNAS (Similar al Diario)
   ============================================================ */

.habits-page--layout {
  display: grid;
  grid-template-columns: 320px 1fr;
  gap: var(--space-4);
  min-height: calc(100vh - 200px);
}

.habits-sidebar {
  background: var(--gris-50);
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  height: fit-content;
  max-height: calc(100vh - 150px);
  overflow-y: auto;
  position: sticky;
  top: var(--space-2);
}

.habits-sidebar__section {
  margin-bottom: var(--space-4);
}

.habits-sidebar__section:last-child {
  margin-bottom: 0;
}

.habits-sidebar__title {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--font-size-md);
  margin: 0 0 var(--space-2) 0;
  color: var(--gris-800);
  font-weight: 600;
}

.habits-sidebar__title .material-symbols-outlined {
  color: var(--turquesa-600);
  font-size: 1.25rem;
}

.habits-sidebar__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-2);
}

.habits-sidebar__hint {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  font-style: italic;
  margin: 0 0 var(--space-2) 0;
}

.habits-sidebar__empty {
  font-size: var(--font-size-sm);
  color: var(--gris-500);
  margin: 0;
  line-height: 1.5;
}

/* Lista de las 4 Leyes (sidebar compacto) */
.laws-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.law-item {
  display: flex;
  gap: var(--space-2);
  align-items: flex-start;
}

.law-item__number {
  width: 24px;
  height: 24px;
  background: var(--turquesa-100);
  color: var(--turquesa-700);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 700;
  flex-shrink: 0;
}

.law-item__content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.law-item__content strong {
  font-size: var(--font-size-sm);
  color: var(--gris-800);
}

.law-item__content span {
  font-size: var(--font-size-xs);
  color: var(--gris-500);
}

/* Mini lista de actividades atélicas */
.atelic-mini-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.atelic-mini-item {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1);
  background: white;
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
  color: var(--gris-700);
}

.atelic-mini-item .material-symbols-outlined {
  color: var(--turquesa-500);
}

/* Sección de ocio en sidebar */
.habits-sidebar__section--atelic {
  padding-top: var(--space-3);
  border-top: 1px solid var(--gris-200);
}

/* Contenido principal */
.habits-main {
  min-width: 0;
}

/* Responsive */
@media (max-width: 900px) {
  .habits-page--layout {
    grid-template-columns: 1fr;
  }

  .habits-sidebar {
    position: static;
    max-height: none;
    order: 2;
  }

  .habits-main {
    order: 1;
  }
}
